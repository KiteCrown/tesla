namespace SpriteKind {
    export const box = SpriteKind.create()
    export const EffeckKind = SpriteKind.create()
    export const xj = SpriteKind.create()
    export const attack = SpriteKind.create()
    export const enemybullet = SpriteKind.create()
    export const nothing = SpriteKind.create()
    export const BBDXOE = SpriteKind.create()
    export const royund = SpriteKind.create()
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (mySprite.isHittingTile(CollisionDirection.Bottom)) {
        mySprite.vy = -180
        timer.after(500, function () {
            if (isDoubleJump == true) {
                if (controller.up.isPressed()) {
                    mySprite.vy = -200
                    isDoubleJump = false
                    mySprite.startEffect(effects.spray, 500)
                }
            }
            timer.after(1000, function () {
                isDoubleJump = true
            })
        })
    } else if (mySprite.isHittingTile(CollisionDirection.Right)) {
        if (controller.right.isPressed()) {
            mySprite.setImage(img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . 9 8 9 . . . . . . . 
                . . . . 9 9 8 8 8 9 9 9 . . . . 
                . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
                . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
                . . . . 5 b b b 2 b 8 8 5 5 . . 
                . . . . 5 b c c 2 1 8 8 5 5 . . 
                . . . . 5 c c c c c c 8 8 . . . 
                . . . . . 5 9 9 9 9 5 8 9 9 9 9 
                . . . . . 5 8 b b 9 2 9 9 9 2 2 
                . . . . 9 8 8 8 8 9 2 2 8 9 2 2 
                . . . . 9 9 8 8 8 8 9 9 8 8 f f 
                . . . . . f f f f f f f f f 8 8 
                `)
            mySprite.vx = 200
            mySprite.vy = -150
        }
    } else if (mySprite.isHittingTile(CollisionDirection.Left)) {
        if (controller.left.isPressed()) {
            mySprite.setImage(img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . . 9 8 9 . . . . . . 
                . . . . 9 9 9 8 8 8 9 9 . . . . 
                . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
                . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
                . . 5 5 8 8 b 2 b b b 5 . . . . 
                . . 5 5 8 8 1 2 c c b 5 . . . . 
                . . . 8 8 c c c c c c 5 . . . . 
                9 9 9 9 8 5 9 9 9 9 5 . . . . . 
                2 2 9 9 9 2 9 b b 8 5 . . . . . 
                2 2 9 8 2 2 9 8 8 8 8 9 . . . . 
                f f 8 8 9 9 8 8 8 8 9 9 . . . . 
                8 8 f f f f f f f f f . . . . . 
                `)
            mySprite.vx = 200
            mySprite.vy = -150
        }
    }
})
function SetNormal () {
    playerStatus = PlayerStatus.Normal
pullEffect.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
    animation.stopAnimation(animation.AnimationTypes.All, pullEffect)
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (playerStatus == PlayerStatus.Normal) {
        SetPulling()
        HoldBoxCheck()
    } else if (playerStatus == PlayerStatus.Pulling) {
        SetNormal()
        HoldBoxCheck()
    } else {
        playerStatus = PlayerStatus.Normal
if (isRight == 1) {
            mySprite.setImage(img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . . 9 8 9 . . . . . . 
                . . . . 9 9 9 8 8 8 9 9 . . . . 
                . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
                . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
                . . 5 5 8 8 b 2 b b b 5 . . . . 
                . . 5 5 8 8 1 2 c c b 5 . . . . 
                . . . 8 8 c c c c c c 5 . . . . 
                . . . 8 8 5 9 9 9 9 5 . . . . . 
                . . 8 8 8 2 9 b b 8 5 . . . . . 
                . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
                . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
                8 8 8 . . f f f f f f . . . . . 
                `)
            tiles.setTileAt(tiles.locationInDirection(tiles.locationOfSprite(mySprite), CollisionDirection.Right), assets.tile`myTile`)
            tiles.setWallAt(tiles.locationInDirection(tiles.locationOfSprite(mySprite), CollisionDirection.Right), true)
        } else {
            mySprite.setImage(img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . 9 8 9 . . . . . . . 
                . . . . 9 9 8 8 8 9 9 9 . . . . 
                . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
                . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
                . . . . 5 b b b 2 b 8 8 5 5 . . 
                . . . . 5 b c c 2 1 8 8 5 5 . . 
                . . . . 5 c c c c c c 8 8 . . . 
                . . . . . 5 9 9 9 9 5 8 8 . . . 
                . . . . . 5 8 b b 9 2 8 8 8 . . 
                . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
                . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
                . . . . . f f f f f f . . 8 8 8 
                `)
            tiles.setTileAt(tiles.locationInDirection(tiles.locationOfSprite(mySprite), CollisionDirection.Left), assets.tile`myTile`)
            tiles.setWallAt(tiles.locationInDirection(tiles.locationOfSprite(mySprite), CollisionDirection.Left), true)
        }
    }
    if (controller.A.isPressed()) {
    	
    }
})
scene.onOverlapTile(SpriteKind.Projectile, assets.tile`myTile`, function (sprite, location) {
    tiles.setWallAt(location, false)
    tiles.setTileAt(location, assets.tile`transparency16`)
})
function SetHolding () {
    playerStatus = PlayerStatus.Holding
pullEffect.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
    animation.stopAnimation(animation.AnimationTypes.All, pullEffect)
}
sprites.onOverlap(SpriteKind.attack, SpriteKind.enemybullet, function (sprite, otherSprite) {
    otherSprite.vy = -600
    music.play(music.createSoundEffect(WaveShape.Sawtooth, 2020, 1995, 255, 0, 500, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (playerStatus == PlayerStatus.Pulling && (currentSelectedBox.column != 0 && currentSelectedBox.row != 0)) {
        tiles.setTileAt(currentSelectedBox, assets.tile`myTile1`)
        tiles.setWallAt(currentSelectedBox, false)
        box2 = sprites.create(img`
            2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
            2 c c c c c c c c c c c c c c 2 
            2 c b b b b b b b b b b b b c 2 
            2 c b c c c c c c c c c c b c 2 
            2 c b c b b b b b b b b c b c 2 
            2 c b c b c c c c c c b c b c 2 
            2 c b c b c b b b b c b c b c 2 
            2 c b c b c b b b b c b c b c 2 
            2 c b c b c b b b b c b c b c 2 
            2 c b c b c b b b b c b c b c 2 
            2 c b c b c c c c c c b c b c 2 
            2 c b c b b b b b b b b c b c 2 
            2 c b c c c c c c c c c c b c 2 
            2 c b b b b b b b b b b b b c 2 
            2 c c c c c c c c c c c c c c 2 
            2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
            `, SpriteKind.box)
        tiles.placeOnTile(box2, currentSelectedBox)
        box2.follow(mySprite)
    } else {
        if (isRight == 1) {
            animation.runImageAnimation(
            ssiwoha,
            [img`
                ............................................................
                ............................................................
                ....................1111111.................................
                ........................11111111111111......................
                ...........................111111111111111111111............
                ...............................1111111111111111111111.......
                .......................................111111111111111111...
                .........................................11111111111111111..
                ..........................................11111111111111111.
                .........................................1111111111111111111
                1......................................11111111111111111111.
                .111..................................11111111111111111111..
                ....1111111..........111111111111111111111111111111111111...
                ..........11111111111111111111111111111111111111111111......
                ................111111111111111111111111111111111111........
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ...........................111111111111111111111............
                ...............................1111111111111111111111.......
                .......................................111111111111111111...
                ...........................................111111111111111..
                .............................................11111111111111.
                ...............................................1111111111111
                ...........................................1111111111111111.
                .........................................11111111111111111..
                ...........................111111111111111111111111111111...
                ............111111111111111111111111111111111111111111......
                ................111111111111111111111111111111111111........
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ...........................11111...111...1111..1............
                ..........................................1111..1111........
                ..................................................11..11....
                ......................................................1111..
                .........................................................11.
                .........................................................111
                ........................................................111.
                ............................................................
                ...........................11111111..................1......
                ............1111111111.11111111111111111111...11111111......
                ................111111......11111111111.....11111111........
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ...........................................11...............
                .............................................11.............
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                .............11111....................11111...11............
                ................111111......11111111111.....111.............
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                `],
            50,
            false
            )
        } else if (isRight == -1) {
            animation.runImageAnimation(
            ssiwoha,
            [img`
                ............................................................
                ............................................................
                .................................1111111....................
                ......................11111111111111........................
                ............111111111111111111111...........................
                .......1111111111111111111111...............................
                ...111111111111111111.......................................
                ..11111111111111111.........................................
                .11111111111111111..........................................
                1111111111111111111.........................................
                .11111111111111111111......................................1
                ..11111111111111111111..................................111.
                ...111111111111111111111111111111111111..........1111111....
                ......11111111111111111111111111111111111111111111..........
                ........111111111111111111111111111111111111................
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............111111111111111111111...........................
                .......1111111111111111111111...............................
                ...111111111111111111.......................................
                ..111111111111111...........................................
                .11111111111111.............................................
                1111111111111...............................................
                .1111111111111111...........................................
                ..11111111111111111.........................................
                ...111111111111111111111111111111...........................
                ......111111111111111111111111111111111111111111............
                ........111111111111111111111111111111111111................
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............1..1111...111...11111...........................
                ........1111..1111..........................................
                ....11..11..................................................
                ..1111......................................................
                .11.........................................................
                111.........................................................
                .111........................................................
                ............................................................
                ......1..................11111111...........................
                ......11111111...11111111111111111111.1111111111............
                ........11111111.....11111111111......111111................
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ...............11...........................................
                .............11.............................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............11...11111....................11111.............
                .............111.....11111111111......111111................
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                `],
            50,
            false
            )
        }
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    isRight = -1
    if (playerStatus == PlayerStatus.Pulling) {
        SetPulling()
    } else if (playerStatus == PlayerStatus.Holding) {
        mySprite.setImage(img`
            2222222222222222...99......
            2cccccccccccccc2..989......
            2cbbbbbbbbbbbbc299888999...
            2cbccccccccccbc29988889699.
            2cbcbbbbbbbbcbc286888868669
            2cbcbccccccbcbc286688668869
            2cbcbcbbbbcbcbc28866668885.
            2cbcbcbbbbcbcbc28888888855.
            2cbcbcbbbbcbcbc25bbb2b8855.
            2cbcbcbbbbcbcbc25bcc218855.
            2cbcbccccccbcbc25cccccc88..
            2cbcbbbbbbbbcbc2.59999588..
            2cbccccccccccbc2.58bb92888.
            2cbbbbbbbbbbbbc298888922888
            2cccccccccccccc299888899888
            2222222222222222.ffffff.288
            `)
    } else {
        mySprite.setImage(img`
            . . . . . . . 9 9 . . . . . . . 
            . . . . . . 9 8 9 . . . . . . . 
            . . . . 9 9 8 8 8 9 9 9 . . . . 
            . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
            . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
            . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
            . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
            . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
            . . . . 5 b b b 2 b 8 8 5 5 . . 
            . . . . 5 b c c 2 1 8 8 5 5 . . 
            . . . . 5 c c c c c c 8 8 . . . 
            . . . . . 5 9 9 9 9 5 8 8 . . . 
            . . . . . 5 8 b b 9 2 8 8 8 . . 
            . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
            . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
            . . . . . f f f f f f . . 8 8 8 
            `)
    }
})
statusbars.onZero(StatusBarKind.Health, function (status) {
    mySprite3 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.BBDXOE)
    mySprite3.setPosition(mySprite.x, mySprite.y)
    animation.runImageAnimation(
    mySprite3,
    [img`
        . . . . . . . 9 8 9 . . . . . . 
        . . . . 9 9 9 8 8 8 9 9 . . . . 
        . . 9 9 6 9 8 8 8 8 9 9 9 . . . 
        . 9 6 6 8 6 8 8 8 8 6 8 6 9 . . 
        . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
        . . 5 8 8 8 6 6 6 6 8 8 8 6 9 . 
        . . 5 5 8 8 8 8 8 8 8 8 5 9 . . 
        . . 5 5 8 8 b 2 b b b 5 . . . . 
        . . 5 5 8 8 1 2 c c b 5 . . . . 
        . . . 8 8 c c c c c c 5 . . . . 
        . . . . 2 2 2 1 1 2 2 . . . . . 
        . . . 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 b b 8 5 . . . . . 
        . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
        8 8 8 . . f f f f f f . . . . . 
        `,img`
        9 9 8 8 8 8 5 5 5 . . . . . . . 
        9 9 6 6 8 8 b b c 2 2 . . . . . 
        8 8 8 6 6 8 b c c 2 2 . . . . . 
        8 8 8 8 6 8 b c c 2 2 . . . . . 
        8 8 8 8 6 8 1 1 c 2 1 . . . . . 
        9 8 8 6 6 8 b b c 2 1 . . . . . 
        9 9 6 6 8 8 8 8 c 2 2 . . . . . 
        9 6 8 2 8 8 8 8 8 2 2 . . . . . 
        . 9 6 8 8 5 5 5 8 2 2 . . . . . 
        . 2 6 6 5 2 5 5 . . . . . . . . 
        . . 9 9 . . . 2 . . . . . . . . 
        2 . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
        8 8 8 . . f f f f f f . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . 2 . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . 2 . . . 2 . . . . . . . . . . 
        . . . . . . . 2 . . . . . . . . 
        2 . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        8 8 8 . . f f 2 f f f . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        `],
    200,
    false
    )
    sprites.destroy(mySprite)
    timer.after(3000, function () {
        game.gameOver(false)
    })
})
sprites.onOverlap(SpriteKind.attack, SpriteKind.Enemy, function (sprite, otherSprite) {
    otherSprite.startEffect(effects.spray, 200)
    timer.after(500, function () {
        death = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.nothing)
        animation.runImageAnimation(
        death,
        [img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . 1 1 . . . . . . . 
            . . . . . . 1 1 1 1 1 . . . . . 
            . . . . . . f 1 f 1 1 . . . . . 
            . . . . . . f 1 f 1 1 . . . . . 
            . . . e . . 1 1 1 . . . . . . . 
            . . e . f . . . 1 . . . . . . . 
            . . e d d f d c c c . . . . . . 
            . . e . . . f c c 1 . . . . . . 
            . . e . . f 1 1 1 1 . . . . . . 
            . . . e f . . c c c . . . . . . 
            . . . . . . . 1 . . . . . . . . 
            . . . . . . c c c . . . . . . . 
            . . . . . . 1 . 1 . . . . . . . 
            . . . . . . e . . e . . . . . . 
            . . . . . e e . e e . . . . . . 
            `,img`
            . . . . . . . . 1 1 . . . . . . 
            . . . . . . . 1 1 1 1 1 . . . . 
            . . . . . . . f 1 f 1 1 . . . . 
            . . . . . . . f 1 f 1 1 . . . . 
            . . . . e . . 1 1 1 . . . . . . 
            . . . e . f . . . 1 . . . . . . 
            . . . e d d f d c c c . . . . . 
            . . . e . . . f c c 1 . . . . . 
            . . . e . . f 1 1 1 1 . . . . . 
            . . . . e f . . 2 2 2 . . . . . 
            . . . . . . . . 2 1 2 . . . . . 
            . . . . . . 1 . . . . . . . . . 
            . . . . . c c c . . . . . . . . 
            . . . . . 1 . 1 . . . . . . . . 
            . . . . . e . . e . . . . . . . 
            . . . . e e . e e . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . e e e e . . . . . 
            . . . . . . e . . d . e . . . . 
            . . . . . . f . . d f . . . . . 
            . . . . . . . f . f . . . . . . 
            . . . . . . . 1 f d . 1 f f 1 . 
            . . . . . 2 2 1 c c . 1 1 1 1 1 
            . . 2 . . 1 2 1 c c 1 1 f f 1 1 
            . . . . . 2 2 1 1 c . . 1 1 1 . 
            . . . 2 . . . 2 . . . . 1 1 1 . 
            . . . . . 1 . . . 2 . . . . . . 
            . . . . c c c . . . . . . . . . 
            . . . . 1 . 1 . . . . 2 . . . . 
            . . . . e . . e . . . . . . . . 
            . . . e e . e e . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . 2 . . . . . . . . . . . . . 
            . . . . . 1 . . . . . . . . . . 
            . . . . c c c . . 2 . . . 2 . . 
            . 2 . . 1 . 1 . . . . . . . . . 
            . . . . e . . e . . . 2 . 2 . . 
            . . . e e . e e . 2 . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `],
        200,
        false
        )
        death.setPosition(otherSprite.x, otherSprite.y)
        skeleton = null
sprites.destroy(otherSprite)
    })
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    isRight = 1
    if (playerStatus == PlayerStatus.Pulling) {
        SetPulling()
    } else if (playerStatus == PlayerStatus.Holding) {
        mySprite.setImage(img`
            ......999..2222222222222222
            ......9899.2cccccccccccccc2
            ...999888992cbbbbbbbbbbbbc2
            .99698888992cbccccccccccbc2
            966868888682cbcbbbbbbbbcbc2
            968866886682cbcbccccccbcbc2
            .58886666882cbcbcbbbbcbcbc2
            .55888888882cbcbcbbbbcbcbc2
            .5588b2bbb52cbcbcbbbbcbcbc2
            .558812ccb52cbcbcbbbbcbcbc2
            ..88cccccc52cbcbccccccbcbc2
            ..8859999552cbcbbbbbbbbcbc2
            .88829bb8552cbccccccccccbc2
            888229888892cbbbbbbbbbbbbc2
            888998888992cccccccccccccc2
            88..fffffff2222222222222222
            `)
    } else {
        mySprite.setImage(img`
            . . . . . . . 9 9 . . . . . . . 
            . . . . . . . 9 8 9 . . . . . . 
            . . . . 9 9 9 8 8 8 9 9 . . . . 
            . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
            . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
            . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
            . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
            . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
            . . 5 5 8 8 b 2 b b b 5 . . . . 
            . . 5 5 8 8 1 2 c c b 5 . . . . 
            . . . 8 8 c c c c c c 5 . . . . 
            . . . 8 8 5 9 9 9 9 5 . . . . . 
            . . 8 8 8 2 9 b b 8 5 . . . . . 
            . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
            . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
            8 8 8 . . f f f f f f . . . . . 
            `)
    }
})
controller.combos.attachCombo("AB", function () {
    if (isRight == -1) {
        mySprite.startEffect(effects.fountain, 200)
        mySprite.ay = 0
        mySprite.setVelocity(-200, 0)
        timer.after(1000, function () {
            mySprite.ay = 500
            mySprite.setVelocity(0, 0)
        })
    } else {
        mySprite.startEffect(effects.fountain, 200)
        mySprite.ay = 0
        mySprite.setVelocity(200, 0)
        timer.after(1000, function () {
            mySprite.ay = 500
            mySprite.setVelocity(0, 0)
        })
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.enemybullet, function (sprite, otherSprite) {
    statusbar.value += -3
    sprites.destroy(otherSprite)
    scene.cameraShake(4, 500)
    if (playerStatus == PlayerStatus.Holding) {
        if (isRight == 1) {
            animation.runImageAnimation(
            sprite,
            [img`
                ......999..2222222222222222
                ......9899.2cccccccccccccc2
                ...999888992cbbbbbbbbbbbbc2
                .99698888992cbccccccccccbc2
                966868888682cbcbbbbbbbbcbc2
                968866886682cbcbccccccbcbc2
                .58886666882cbcbcbbbbcbcbc2
                .55888888882cbcbcbbbbcbcbc2
                .5588b2bbb52cbcbcbbbbcbcbc2
                .558812ccb52cbcbcbbbbcbcbc2
                ..88cccccc52cbcbccccccbcbc2
                ..8859999552cbcbbbbbbbbcbc2
                .88829bb8552cbccccccccccbc2
                888229888892cbbbbbbbbbbbbc2
                888998888992cccccccccccccc2
                88..fffffff2222222222222222
                `,img`
                ......111..2222222222222222
                ......1111.2cccccccccccccc2
                ...111111112cbbbbbbbbbbbbc2
                .11111111112cbccccccccccbc2
                111111111112cbcbbbbbbbbcbc2
                111111111112cbcbccccccbcbc2
                111111111112cbcbcbbbbcbcbc2
                111111111112cbcbcbbbbcbcbc2
                111111211112cbcbcbbbbcbcbc2
                111111211112cbcbcbbbbcbcbc2
                .11111111112cbcbccccccbcbc2
                .11111111112cbcbbbbbbbbcbc2
                111111111112cbccccccccccbc2
                111111111112cbbbbbbbbbbbbc2
                111111111112cccccccccccccc2
                111.111111f2222222222222222
                `,img`
                ......999..2222222222222222
                ......9899.2cccccccccccccc2
                ...999888992cbbbbbbbbbbbbc2
                .99698888992cbccccccccccbc2
                966868888682cbcbbbbbbbbcbc2
                968866886682cbcbccccccbcbc2
                .58886666882cbcbcbbbbcbcbc2
                .55888888882cbcbcbbbbcbcbc2
                .5588b2bbb52cbcbcbbbbcbcbc2
                .558812ccb52cbcbcbbbbcbcbc2
                ..88cccccc52cbcbccccccbcbc2
                ..8859999552cbcbbbbbbbbcbc2
                .88829bb8552cbccccccccccbc2
                888229888892cbbbbbbbbbbbbc2
                888998888992cccccccccccccc2
                88..fffffff2222222222222222
                `],
            200,
            false
            )
        } else {
            animation.runImageAnimation(
            sprite,
            [img`
                2222222222222222..999......
                2cccccccccccccc2.9989......
                2cbbbbbbbbbbbbc299888999...
                2cbccccccccccbc29988889699.
                2cbcbbbbbbbbcbc286888868669
                2cbcbccccccbcbc286688668869
                2cbcbcbbbbcbcbc28866668885.
                2cbcbcbbbbcbcbc28888888855.
                2cbcbcbbbbcbcbc25bbb2b8855.
                2cbcbcbbbbcbcbc25bcc218855.
                2cbcbccccccbcbc25cccccc88..
                2cbcbbbbbbbbcbc2559999588..
                2cbccccccccccbc2558bb92888.
                2cbbbbbbbbbbbbc298888922888
                2cccccccccccccc299888899888
                2222222222222222fffffff.288
                `,img`
                2222222222222222..111......
                2cccccccccccccc2.1111......
                2cbbbbbbbbbbbbc211111111...
                2cbccccccccccbc21111111111.
                2cbcbbbbbbbbcbc211111111111
                2cbcbccccccbcbc211111111111
                2cbcbcbbbbcbcbc211111111111
                2cbcbcbbbbcbcbc211111111111
                2cbcbcbbbbcbcbc211112111111
                2cbcbcbbbbcbcbc211112111111
                2cbcbccccccbcbc21111111111.
                2cbcbbbbbbbbcbc21111111111.
                2cbccccccccccbc211111111111
                2cbbbbbbbbbbbbc211111111111
                2cccccccccccccc211111111111
                2222222222222222f111111.111
                `,img`
                2222222222222222..999......
                2cccccccccccccc2.9989......
                2cbbbbbbbbbbbbc299888999...
                2cbccccccccccbc29988889699.
                2cbcbbbbbbbbcbc286888868669
                2cbcbccccccbcbc286688668869
                2cbcbcbbbbcbcbc28866668885.
                2cbcbcbbbbcbcbc28888888855.
                2cbcbcbbbbcbcbc25bbb2b8855.
                2cbcbcbbbbcbcbc25bcc218855.
                2cbcbccccccbcbc25cccccc88..
                2cbcbbbbbbbbcbc2559999588..
                2cbccccccccccbc2558bb92888.
                2cbbbbbbbbbbbbc298888922888
                2cccccccccccccc299888899888
                2222222222222222fffffff.288
                `],
            200,
            false
            )
        }
    } else {
        if (isRight == 1) {
            animation.runImageAnimation(
            sprite,
            [img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . . 9 8 9 . . . . . . 
                . . . . 9 9 9 8 8 8 9 9 . . . . 
                . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
                . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
                . . 5 5 8 8 b 2 b b b 5 . . . . 
                . . 5 5 8 8 1 2 c c b 5 . . . . 
                . . . 8 8 c c c c c c 5 . . . . 
                . . . 8 8 5 9 9 9 9 5 . . . . . 
                . . 8 8 8 2 9 b b 8 5 . . . . . 
                . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
                . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
                8 8 8 . . f f f f f f . . . . . 
                `,img`
                . . . . . . . 1 1 . . . . . . . 
                . . . . . . . 1 1 1 . . . . . . 
                . . . . 1 1 1 1 1 1 1 1 . . . . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . . 1 1 1 1 1 1 1 1 1 1 1 . . . 
                . . 1 1 1 1 1 1 1 1 1 1 . . . . 
                . . 1 1 1 1 1 1 1 1 1 1 . . . . 
                . . . 1 1 1 1 1 1 1 1 1 . . . . 
                . . . 1 1 1 1 1 1 1 1 . . . . . 
                . . 1 1 1 1 1 1 1 1 1 . . . . . 
                . 1 1 1 1 1 1 1 1 1 1 1 . . . . 
                . 1 1 1 1 1 1 1 1 1 1 1 . . . . 
                1 1 1 . . 1 1 1 1 1 1 . . . . . 
                `,img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . . 9 8 9 . . . . . . 
                . . . . 9 9 9 8 8 8 9 9 . . . . 
                . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
                . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
                . . 5 5 8 8 b 2 b b b 5 . . . . 
                . . 5 5 8 8 1 2 c c b 5 . . . . 
                . . . 8 8 c c c c c c 5 . . . . 
                . . . 8 8 5 9 9 9 9 5 . . . . . 
                . . 8 8 8 2 9 b b 8 5 . . . . . 
                . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
                . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
                8 8 8 . . f f f f f f . . . . . 
                `],
            200,
            false
            )
        } else {
            animation.runImageAnimation(
            sprite,
            [img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . 9 8 9 . . . . . . . 
                . . . . 9 9 8 8 8 9 9 9 . . . . 
                . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
                . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
                . . . . 5 b b b 2 b 8 8 5 5 . . 
                . . . . 5 b c c 2 1 8 8 5 5 . . 
                . . . . 5 c c c c c c 8 8 . . . 
                . . . . . 5 9 9 9 9 5 8 8 . . . 
                . . . . . 5 8 b b 9 2 8 8 8 . . 
                . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
                . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
                . . . . . f f f f f f . . 8 8 8 
                `,img`
                . . . . . . . 1 1 . . . . . . . 
                . . . . . . 1 1 1 . . . . . . . 
                . . . . 1 1 1 1 1 1 1 1 . . . . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . . . 1 1 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 . . . 
                . . . . . 1 1 1 1 1 1 1 1 . . . 
                . . . . . 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 1 1 . 
                . . . . 1 1 1 1 1 1 1 1 1 1 1 . 
                . . . . . 1 1 1 1 1 1 . . 1 1 1 
                `,img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . 9 8 9 . . . . . . . 
                . . . . 9 9 8 8 8 9 9 9 . . . . 
                . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
                . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
                . . . . 5 b b b 2 b 8 8 5 5 . . 
                . . . . 5 b c c 2 1 8 8 5 5 . . 
                . . . . 5 c c c c c c 8 8 . . . 
                . . . . . 5 9 9 9 9 5 8 8 . . . 
                . . . . . 5 8 b b 9 2 8 8 8 . . 
                . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
                . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
                . . . . . f f f f f f . . 8 8 8 
                `],
            200,
            false
            )
        }
    }
})
function HoldBoxCheck () {
    if (playerStatus == PlayerStatus.Pulling) {
        if (!(tiles.tileAtLocationEquals(currentSelectedBox, assets.tile`myTile0`))) {
            selectedBox = mySprite.tilemapLocation()
            while (!(tiles.tileAtLocationEquals(selectedBox, assets.tile`myTile`))) {
                selectedBox = tiles.getTileLocation(selectedBox.column + isRight, mySprite.tilemapLocation().row)
                if (selectedBox.column <= 0 || selectedBox.column >= scene.screenWidth()) {
                    currentSelectedBox = tiles.getTileLocation(0, 0)
                    break;
                }
            }
            currentSelectedBox = tiles.getTileLocation(selectedBox.column, selectedBox.row)
            tiles.setTileAt(currentSelectedBox, assets.tile`myTile0`)
        }
    } else if (playerStatus == PlayerStatus.Normal) {
        tiles.setTileAt(currentSelectedBox, assets.tile`myTile`)
    }
}
sprites.onOverlap(SpriteKind.box, SpriteKind.Player, function (sprite, otherSprite) {
    boxTrue = 0
    sprites.destroy(sprite)
    if (isRight == 1) {
        mySprite.setImage(img`
            ......99...2222222222222222
            ......989..2cccccccccccccc2
            ...999888992cbbbbbbbbbbbbc2
            .99698888992cbccccccccccbc2
            966868888682cbcbbbbbbbbcbc2
            968866886682cbcbccccccbcbc2
            .58886666882cbcbcbbbbcbcbc2
            .55888888882cbcbcbbbbcbcbc2
            .5588b2bbb52cbcbcbbbbcbcbc2
            .558812ccb52cbcbcbbbbcbcbc2
            ..88cccccc52cbcbccccccbcbc2
            ..88599995.2cbcbbbbbbbbcbc2
            .88829bb85.2cbccccccccccbc2
            888229888892cbbbbbbbbbbbbc2
            888998888992cccccccccccccc2
            88..ffffff.2222222222222222
            `)
    } else {
        mySprite.setImage(img`
            2222222222222222...99......
            2cccccccccccccc2..989......
            2cbbbbbbbbbbbbc299888999...
            2cbccccccccccbc29988889699.
            2cbcbbbbbbbbcbc286888868669
            2cbcbccccccbcbc286688668869
            2cbcbcbbbbcbcbc28866668885.
            2cbcbcbbbbcbcbc28888888855.
            2cbcbcbbbbcbcbc25bbb2b8855.
            2cbcbcbbbbcbcbc25bcc218855.
            2cbcbccccccbcbc25cccccc88..
            2cbcbbbbbbbbcbc2.59999588..
            2cbccccccccccbc2.58bb92888.
            2cbbbbbbbbbbbbc298888922888
            2cccccccccccccc299888899888
            2222222222222222.ffffff..88
            `)
    }
    SetHolding()
})
function SetPulling () {
    playerStatus = PlayerStatus.Pulling
if (isRight == 1) {
        animation.runImageAnimation(
        pullEffect,
        [img`
            ...................................
            ...................................
            ...................................
            ...................................
            .............................9.....
            ...........................9..9....
            .........................9..9..9...
            ..........................9..9.9...
            ........................9..9..9.9..
            .........................9..9.9..9.
            .......................9..9..9.9.9.
            ........................9..9.9.9.9.
            .........................9.9..9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            .........................9.9..9.9.9
            .........................9.9.9.9.9.
            ........................9.9..9.9.9.
            .......................9.9..9.9..9.
            ........................9..9..9.9..
            .......................9..9..9.9...
            .........................9..9..9...
            ...........................9..9....
            ..........................9..9.....
            ...........................99......
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...........................9.......
            .........................9..9......
            ..........................9..9.....
            ........................9..9..9....
            .........................9..9.9....
            .......................9..9..9.9...
            ........................9..9.9.9...
            .........................9.9..9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            .........................9.9..9.9..
            .........................9.9.9.9...
            ........................9.9..9.9...
            .......................9.9..9.9....
            ........................9..9..9....
            .......................9..9..9.....
            .........................9..9......
            ...........................9.......
            ..........................9........
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            .........................9.........
            ..........................9........
            ........................9..9.......
            .........................9..9......
            .......................9..9..9.....
            ........................9..9.9.....
            .........................9.9..9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            .........................9.9..9....
            .........................9.9.9.....
            ........................9.9..9.....
            .......................9.9..9......
            ........................9..9.......
            .......................9..9........
            .........................9.........
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ........................9..........
            .........................9.........
            .......................9..9........
            ........................9..9.......
            .........................9.9.......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            .........................9.9.......
            .........................9.9.......
            ........................9.9........
            .......................9.9.........
            ........................9..........
            .......................9...........
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            .......................9...........
            ........................9..........
            .........................9.........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            .........................9.........
            .........................9.........
            ........................9..........
            .......................9...........
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `],
        100,
        true
        )
    } else {
        animation.runImageAnimation(
        pullEffect,
        [img`
            ...................................
            ...................................
            ...................................
            ...................................
            .....9.............................
            ....9..9...........................
            ...9..9..9.........................
            ...9.9..9..........................
            ..9.9..9..9........................
            .9..9.9..9.........................
            .9.9.9..9..9.......................
            .9.9.9.9..9........................
            9.9.9..9.9.........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9..9.9.........................
            .9.9.9.9.9.........................
            .9.9.9..9.9........................
            .9..9.9..9.9.......................
            ..9.9..9..9........................
            ...9.9..9..9.......................
            ...9..9..9.........................
            ....9..9...........................
            .....9..9..........................
            ......99...........................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            .......9...........................
            ......9..9.........................
            .....9..9..........................
            ....9..9..9........................
            ....9.9..9.........................
            ...9.9..9..9.......................
            ...9.9.9..9........................
            ..9.9..9.9.........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9..9.9.........................
            ...9.9.9.9.........................
            ...9.9..9.9........................
            ....9.9..9.9.......................
            ....9..9..9........................
            .....9..9..9.......................
            ......9..9.........................
            .......9...........................
            ........9..........................
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            .........9.........................
            ........9..........................
            .......9..9........................
            ......9..9.........................
            .....9..9..9.......................
            .....9.9..9........................
            ....9..9.9.........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9..9.9.........................
            .....9.9.9.........................
            .....9..9.9........................
            ......9..9.9.......................
            .......9..9........................
            ........9..9.......................
            .........9.........................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ..........9........................
            .........9.........................
            ........9..9.......................
            .......9..9........................
            .......9.9.........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            .......9.9.........................
            .......9.9.........................
            ........9.9........................
            .........9.9.......................
            ..........9........................
            ...........9.......................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...........9.......................
            ..........9........................
            .........9.........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            .........9.........................
            .........9.........................
            ..........9........................
            ...........9.......................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `],
        100,
        true
        )
    }
}
controller.combos.attachCombo("right", function () {
	
})
let projectile: Sprite = null
let boxTrue = 0
let death: Sprite = null
let mySprite3: Sprite = null
let box2: Sprite = null
let ssiwoha: Sprite = null
let statusbar: StatusBarSprite = null
let mySprite: Sprite = null
let pullEffect: Sprite = null
let isDoubleJump = false
let isRight = 0
let currentSelectedBox: tiles.Location = null
let selectedBox: tiles.Location = null
let skeleton: Sprite = null
enum PlayerStatus{
    Normal = 0,
    Pulling = 1,
    Holding = 2
}
let playerStatus: PlayerStatus = PlayerStatus.Normal
selectedBox = tiles.getTileLocation(0, 0)
currentSelectedBox = tiles.getTileLocation(1, 0)
isRight = 1
isDoubleJump = true
tiles.setCurrentTilemap(tilemap`level0`)
pullEffect = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.EffeckKind)
let mySprite4 = sprites.create(img`
    .....................bbbbbbbbbbbbbbbbbbbbbbb......................
    .................bbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...................
    ...............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.................
    ..............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...............
    ............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.............
    ...........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb............
    ..........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...........
    .........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..........
    .........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..........
    .......bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.........
    ......bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb........
    .....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.......
    ....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.....
    ....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.....
    ...bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb....
    ..bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...
    ..bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    ..bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...
    ..bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...
    ...bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb....
    ...bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb....
    ....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.....
    ....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.....
    .....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.......
    ......bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb........
    .......bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.........
    .........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..........
    ..........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...........
    ...........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb............
    ............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.............
    ............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.............
    ..............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...............
    ...............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.................
    .................bbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...................
    .....................bbbbbbbbbbbbbbbbbbbbbbb......................
    ........................bbbbbbbbbbbbbbbbb.........................
    `, SpriteKind.royund)
mySprite4.setFlag(SpriteFlag.Invisible, true)
mySprite = sprites.create(img`
    . . . . . . . 9 9 . . . . . . . 
    . . . . . . . 9 8 9 . . . . . . 
    . . . . 9 9 9 8 8 8 9 9 . . . . 
    . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
    . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
    . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
    . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
    . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
    . . 5 5 8 8 b 2 b b b 5 . . . . 
    . . 5 5 8 8 1 2 c c b 5 . . . . 
    . . . 8 8 c c c c c c 5 . . . . 
    . . . 8 8 5 9 9 9 9 5 . . . . . 
    . . 8 8 8 2 9 b b 8 5 . . . . . 
    . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
    . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
    8 8 8 . . f f f f f f . . . . . 
    `, SpriteKind.Player)
tiles.placeOnRandomTile(mySprite, assets.tile`tile15`)
statusbar = statusbars.create(50, 4, StatusBarKind.Health)
statusbar.setColor(2, 15)
statusbar.setLabel("HP", 1)
statusbar.setBarBorder(1, 10)
mySprite.ay = 500
statusbar.positionDirection(CollisionDirection.Bottom)
controller.moveSprite(mySprite, 100, 0)
scene.cameraFollowSprite(mySprite)
let mySprite2 = sprites.create(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............222222222222222.............................................................................................2222..................................
    ..............222222222222222..................................................................222........................2222.......................2222.......
    ..............222222222222222..................................................................222.......................22222......................2222222.....
    ..............222..............................................................................222......................22222......................22222222.....
    ..............222..............................................................................222......................22222.....................22222.222.....
    ..............222..............................................................................222.....................222222....................22222..222.....
    ..............222..............................................................................222....................2222222...................22222...222.....
    ..............222..............................................................................222...................22222222...................22222...222.....
    ..............222..............................................................................222..................22222.222..................222222...222.....
    ..............222..............................................................................222..................2222..222..................22222....222.....
    ..............222..............................................................................222..................222...222..................2222.....222.....
    ..............222...222........................................................................222........................222...........................222.....
    ..............222222222.....................................................222222222..........222........................222...........................222.....
    ..............222222222.................................22222222.....2222222222222222..........222.2222222................222...........................222.....
    ..............222222222.........22222......222.........22222222222...2222222222222222..2222222222222222222................222.....222222222222..........222.....
    ..............222.........222222222222.....22222222....2222222222222222222222..........2222222222222222222................222.....222222222222..........222.....
    ..............222.........2222222222222....22222222....222....222222222222222..........22222222222222.....................222.....222222222222..........222.....
    ..............222.........22222222222222...222222222...222....2222222.22222222.................222........................222...........................222.....
    ..............222.........222...22222222...222222222...222..22222222.....2222222...............222........................222...........................222.....
    ..............222.........222........2222..222222222...22222222222.........222222..............222........................222...........................222.....
    ..............222.........222........2222..2222..222...222222222............22222..............222........................222...........................222.....
    ..............222.........222.........222..2222........2222222........222.....2222.............222........................222...........................222.....
    ..............222........2222.........222..2222........22222..........2222....2222.............222........................222...........................222.....
    ..............222........2222........2222...222........222222.........2222222..2222............222........................222...........................222.....
    ..............222........222.......222222...222.........2222222222222.22222222.2222............222........................222...........................222.....
    ..............222........2222222222222222...222..........222222222222...22222222222............222........................222...........................222.....
    ..............222........22222222222222....................2222222222......22222222............222........................222..........................2222.....
    ..............222........222222222222.......................................2222222............222........................222..........................2222.....
    ..............222..........2222...............................................22222.......................................222..........................222......
    ..............2222.....................................................................................................................................222......
    ..............2222.....................................................................................................................................222......
    ..............2222.....................................................................................................................................222......
    ...............222..............................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `, SpriteKind.xj)
timer.after(1000, function () {
    mySprite.setVelocity(0, 50)
})
timer.after(6000, function () {
    sprites.destroy(mySprite2)
})
for (let value of tiles.getTilesByType(assets.tile`myTile`)) {
    tiles.setWallAt(value, true)
}
for (let value2 of tiles.getTilesByType(assets.tile`myTile2`)) {
    skeleton = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 1 1 . . . . . . 
        . . . . . . . 1 1 1 1 1 . . . . 
        . . . . . . . f 1 f 1 1 . . . . 
        . . . . . . . f 1 f 1 1 . . . . 
        . . . . e . . 1 1 1 . . . . . . 
        . . . e . f . . . 1 . . . . . . 
        . . . e d d f d c c c . . . . . 
        . . . e . . . f c c 1 . . . . . 
        . . . e . . f 1 1 1 1 . . . . . 
        . . . . e f . . c c c . . . . . 
        . . . . . . . . . 1 . . . . . . 
        . . . . . . . . c c c . . . . . 
        . . . . . . . . 1 . 1 . . . . . 
        . . . . . . . . e . . e . . . . 
        . . . . . . . e e . e e . . . . 
        `, SpriteKind.Enemy)
    tiles.setTileAt(value2, assets.tile`myTile1`)
    tiles.placeOnTile(skeleton, value2)
}
tiles.replaceAllTiles(assets.tile`myTile2`, assets.tile`myTile1`)
tiles.replaceAllTiles(assets.tile`tile6`, assets.tile`transparency16`)
tiles.replaceAllTiles(assets.tile`tile4`, assets.tile`transparency16`)
tiles.replaceAllTiles(assets.tile`tile10`, assets.tile`transparency16`)
tiles.replaceAllTiles(assets.tile`tile11`, assets.tile`transparency16`)
tiles.replaceAllTiles(assets.tile`tile19`, assets.tile`transparency16`)
tiles.replaceAllTiles(assets.tile`tile20`, assets.tile`transparency16`)
tiles.replaceAllTiles(assets.tile`tile15`, assets.tile`myTile1`)
tiles.replaceAllTiles(sprites.swamp.swampTile9, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile6`, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile4`, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile10`, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile11`, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile19`, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile20`, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile15`, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile23`, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile22`, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile25`, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile21`, assets.tile`transparency16`)
tiles.coverAllTiles(assets.tile`tile24`, assets.tile`transparency16`)
ssiwoha = sprites.create(img`
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    `, SpriteKind.attack)
game.onUpdate(function () {
    ssiwoha.setPosition(mySprite.x, mySprite.y)
    pullEffect.setPosition(mySprite.x, mySprite.y)
    mySprite4.setPosition(mySprite.x, mySprite.y)
})
game.onUpdateInterval(500, function () {
    for (let value3 of sprites.allOfKind(SpriteKind.Enemy)) {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . 2 2 . . . . . . . e . . . . . 
            . . 2 2 . . . . . . e e . . . . 
            . . d d d d d d d d e e e . . . 
            . . 2 2 . . . . . . e e . . . . 
            . 2 2 . . . . . . . e . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, value3, 160, 0)
        projectile.setKind(SpriteKind.enemybullet)
        timer.after(300, function () {
            projectile = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . e . . . . . . . 2 2 . 
                . . . . e e . . . . . . 2 2 . . 
                . . . e e e d d d d d d d d . . 
                . . . . e e . . . . . . 2 2 . . 
                . . . . . e . . . . . . . 2 2 . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, value3, -160, 0)
            projectile.setKind(SpriteKind.enemybullet)
        })
    }
})
game.onUpdateInterval(500, function () {
    projectile.setFlag(SpriteFlag.AutoDestroy, true)
})
