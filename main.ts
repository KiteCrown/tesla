namespace SpriteKind {
    export const box = SpriteKind.create()
    export const EffeckKind = SpriteKind.create()
    export const xj = SpriteKind.create()
    export const attack = SpriteKind.create()
    export const enemybullet = SpriteKind.create()
    export const nothing = SpriteKind.create()
    export const BBDXOE = SpriteKind.create()
    export const royund = SpriteKind.create()
    export const boss = SpriteKind.create()
    export const laser = SpriteKind.create()
    export const spy = SpriteKind.create()
    export const decoration = SpriteKind.create()
}
controller.combos.attachCombo("left left", function () {
    Dash()
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (mySprite.isHittingTile(CollisionDirection.Bottom)) {
        mySprite.vy = -180
        timer.after(500, function () {
            if (isDoubleJump == true) {
                if (controller.up.isPressed()) {
                    mySprite.vy = -200
                    isDoubleJump = false
                    mySprite.startEffect(effects.spray, 500)
                }
            }
            timer.after(1000, function () {
                isDoubleJump = true
            })
        })
    } else if (mySprite.isHittingTile(CollisionDirection.Right)) {
        if (controller.right.isPressed()) {
            mySprite.setImage(img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . 9 8 9 . . . . . . . 
                . . . . 9 9 8 8 8 9 9 9 . . . . 
                . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
                . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
                . . . . 5 b b b 2 b 8 8 5 5 . . 
                . . . . 5 b c c 2 1 8 8 5 5 . . 
                . . . . 5 c c c c c c 8 8 . . . 
                . . . . . 5 9 9 9 9 5 8 9 9 9 9 
                . . . . . 5 8 b b 9 2 9 9 9 2 2 
                . . . . 9 8 8 8 8 9 2 2 8 9 2 2 
                . . . . 9 9 8 8 8 8 9 9 8 8 f f 
                . . . . . f f f f f f f f f 8 8 
                `)
            mySprite.vx = 200
            mySprite.vy = -150
        }
    } else if (mySprite.isHittingTile(CollisionDirection.Left)) {
        if (controller.left.isPressed()) {
            mySprite.setImage(img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . . 9 8 9 . . . . . . 
                . . . . 9 9 9 8 8 8 9 9 . . . . 
                . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
                . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
                . . 5 5 8 8 b 2 b b b 5 . . . . 
                . . 5 5 8 8 1 2 c c b 5 . . . . 
                . . . 8 8 c c c c c c 5 . . . . 
                9 9 9 9 8 5 9 9 9 9 5 . . . . . 
                2 2 9 9 9 2 9 b b 8 5 . . . . . 
                2 2 9 8 2 2 9 8 8 8 8 9 . . . . 
                f f 8 8 9 9 8 8 8 8 9 9 . . . . 
                8 8 f f f f f f f f f . . . . . 
                `)
            mySprite.vx = 200
            mySprite.vy = -150
        }
    }
})
function SetNormal () {
    playerStatus = PlayerStatus.Normal
pullEffect.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
    animation.stopAnimation(animation.AnimationTypes.All, pullEffect)
}
controller.combos.attachCombo("right right", function () {
    Dash()
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (playerStatus == PlayerStatus.Normal) {
        SetPulling()
        HoldBoxCheck()
    } else if (playerStatus == PlayerStatus.Pulling) {
        SetNormal()
        HoldBoxCheck()
    } else {
        playerStatus = PlayerStatus.Normal
if (isRight == 1) {
            mySprite.setImage(img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . . 9 8 9 . . . . . . 
                . . . . 9 9 9 8 8 8 9 9 . . . . 
                . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
                . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
                . . 5 5 8 8 b 2 b b b 5 . . . . 
                . . 5 5 8 8 1 2 c c b 5 . . . . 
                . . . 8 8 c c c c c c 5 . . . . 
                . . . 8 8 5 9 9 9 9 5 . . . . . 
                . . 8 8 8 2 9 b b 8 5 . . . . . 
                . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
                . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
                8 8 8 . . f f f f f f . . . . . 
                `)
            tiles.setTileAt(tiles.locationInDirection(tiles.locationOfSprite(mySprite), CollisionDirection.Right), assets.tile`myTile`)
            tiles.setWallAt(tiles.locationInDirection(tiles.locationOfSprite(mySprite), CollisionDirection.Right), true)
        } else {
            mySprite.setImage(img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . 9 8 9 . . . . . . . 
                . . . . 9 9 8 8 8 9 9 9 . . . . 
                . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
                . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
                . . . . 5 b b b 2 b 8 8 5 5 . . 
                . . . . 5 b c c 2 1 8 8 5 5 . . 
                . . . . 5 c c c c c c 8 8 . . . 
                . . . . . 5 9 9 9 9 5 8 8 . . . 
                . . . . . 5 8 b b 9 2 8 8 8 . . 
                . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
                . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
                . . . . . f f f f f f . . 8 8 8 
                `)
            tiles.setTileAt(tiles.locationInDirection(tiles.locationOfSprite(mySprite), CollisionDirection.Left), assets.tile`myTile`)
            tiles.setWallAt(tiles.locationInDirection(tiles.locationOfSprite(mySprite), CollisionDirection.Left), true)
        }
    }
    if (controller.A.isPressed()) {
    	
    }
})
scene.onOverlapTile(SpriteKind.Projectile, assets.tile`myTile`, function (sprite, location) {
    tiles.setWallAt(location, false)
    tiles.setTileAt(location, assets.tile`transparency16`)
})
sprites.onOverlap(SpriteKind.attack, SpriteKind.boss, function (sprite, otherSprite) {
    statusbar2.value += -19
    animation.runImageAnimation(
    otherSprite,
    [img`
        ................1111................
        ..............11155111..............
        .............1111113333.............
        ............111111133331............
        ............151111133333............
        ...........11551111133331...........
        ...........11511111113331...........
        ...........11112211113311...........
        ...........11112211113321...........
        ............121221113311............
        ............111111113111............
        .............1111111111....1111.....
        .....1111.....11111111...11155111...
        ...11155111...888811....1111113333..
        ..1111113333.887788....111111133331.
        .1111111333388888668...151111133333.
        .15111113338111116668.11551111133331
        115511111338111111668.11511111113331
        115111111138112211668.11112211113311
        111122111138112211668.11112211113321
        111122111138111111678..121221113311.
        .1212211133181111118...111111113111.
        .1111111131118111181....1111111111..
        ..1111111111..88885111...44111111...
        ...11111111..1111113333....1111.....
        .....1111...111111133334............
        ............151111133333............
        ...........11551111133331...........
        ...........11511111113331...........
        ...........11112211113311...........
        ...........11112211113321...........
        ............121221113311............
        ............111111113111............
        .............1111111111.............
        ..............11111111..............
        ................1111................
        `,img`
        ................4444................
        ..............44455444..............
        .............4444443333.............
        ............441122233334............
        ............451122233333............
        ...........44552222233334...........
        ...........44511112223334...........
        ...........44112211223344...........
        ...........44112211223324...........
        ............421221123324............
        ............442111223224............
        .............4222222224....4444.....
        .....4444.....44222244...44455444...
        ...44455444...888844....4444443333..
        ..4444443333.887788....441122233334.
        .4411222333388888668...451122233333.
        .45112223338717776668.44552222233334
        445522222338771117668.44511112223334
        445111122238712217668.44112211223344
        441122112238712217668.44112211223324
        441122112238711117678..421221123324.
        .4212211233287777778...442111223224.
        .4421112232248777784....4222222224..
        ..4222222224..88885444...44222244...
        ...44222244..4444443333....4444.....
        .....4444...441122233334............
        ............451122233333............
        ...........44552222233334...........
        ...........44511112223334...........
        ...........44112211223344...........
        ...........44112211223324...........
        ............421221123324............
        ............442111223224............
        .............4222222224.............
        ..............44222244..............
        ................4444................
        `],
    200,
    false
    )
    for (let index = 0; index < 40; index++) {
        sprites.destroyAllSpritesOfKind(SpriteKind.laser)
        sprites.destroyAllSpritesOfKind(SpriteKind.enemybullet)
    }
})
function SetHolding () {
    playerStatus = PlayerStatus.Holding
pullEffect.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
    animation.stopAnimation(animation.AnimationTypes.All, pullEffect)
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile13`, function (sprite, location) {
    game.setGameOverMessage(true, "UP TO PARADISE")
    game.gameOver(true)
})
sprites.onOverlap(SpriteKind.attack, SpriteKind.enemybullet, function (sprite, otherSprite) {
    otherSprite.vy = -600
    music.play(music.createSoundEffect(WaveShape.Sawtooth, 2020, 1995, 255, 0, 500, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (playerStatus == PlayerStatus.Pulling && (currentSelectedBox.column != 0 && currentSelectedBox.row != 0)) {
        tiles.setTileAt(currentSelectedBox, assets.tile`myTile1`)
        tiles.setWallAt(currentSelectedBox, false)
        box2 = sprites.create(img`
            2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
            2 c c c c c c c c c c c c c c 2 
            2 c b b b b b b b b b b b b c 2 
            2 c b c c c c c c c c c c b c 2 
            2 c b c b b b b b b b b c b c 2 
            2 c b c b c c c c c c b c b c 2 
            2 c b c b c b b b b c b c b c 2 
            2 c b c b c b b b b c b c b c 2 
            2 c b c b c b b b b c b c b c 2 
            2 c b c b c b b b b c b c b c 2 
            2 c b c b c c c c c c b c b c 2 
            2 c b c b b b b b b b b c b c 2 
            2 c b c c c c c c c c c c b c 2 
            2 c b b b b b b b b b b b b c 2 
            2 c c c c c c c c c c c c c c 2 
            2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
            `, SpriteKind.box)
        tiles.placeOnTile(box2, currentSelectedBox)
        box2.follow(mySprite)
    } else {
        if (isRight == 1) {
            animation.runImageAnimation(
            ssiwoha,
            [img`
                ............................................................
                ............................................................
                ....................2222222.................................
                ........................22222222222222......................
                ...........................222222222222222222222............
                ...............................2222222222222222222222.......
                .......................................222222222222222222...
                .........................................22222222222222222..
                ..........................................22222222222222222.
                .........................................2222222222222222222
                2......................................22222222222222222222.
                .222..................................22222222222222222222..
                ....2222222..........222222222222222222222222222222222222...
                ..........22222222222222222222222222222222222222222222......
                ................222222222222222222222222222222222222........
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ...........................222222222222222222222............
                ...............................2222222222222222222222.......
                .......................................222222222222222222...
                ...........................................222222222222222..
                .............................................22222222222222.
                ...............................................2222222222222
                ...........................................2222222222222222.
                .........................................22222222222222222..
                ...........................222222222222222222222222222222...
                ............222222222222222222222222222222222222222222......
                ................222222222222222222222222222222222222........
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ...........................22222...222...2222..2............
                ..........................................2222..2222........
                ..................................................22..22....
                ......................................................2222..
                .........................................................22.
                .........................................................222
                ........................................................222.
                ............................................................
                ...........................22222222..................2......
                ............2222222222.22222222222222222222...22222222......
                ................222222......22222222222.....22222222........
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ...........................................22...............
                .............................................22.............
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                .............22222....................22222...22............
                ................222222......22222222222.....222.............
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                `],
            50,
            false
            )
        } else if (isRight == -1) {
            animation.runImageAnimation(
            ssiwoha,
            [img`
                ............................................................
                ............................................................
                .................................2222222....................
                ......................22222222222222........................
                ............222222222222222222222...........................
                .......2222222222222222222222...............................
                ...222222222222222222.......................................
                ..22222222222222222.........................................
                .22222222222222222..........................................
                2222222222222222222.........................................
                .22222222222222222222......................................2
                ..22222222222222222222..................................222.
                ...222222222222222222222222222222222222..........2222222....
                ......22222222222222222222222222222222222222222222..........
                ........222222222222222222222222222222222222................
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............222222222222222222222...........................
                .......2222222222222222222222...............................
                ...222222222222222222.......................................
                ..222222222222222...........................................
                .22222222222222.............................................
                2222222222222...............................................
                .2222222222222222...........................................
                ..22222222222222222.........................................
                ...222222222222222222222222222222...........................
                ......222222222222222222222222222222222222222222............
                ........222222222222222222222222222222222222................
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............2..2222...222...22222...........................
                ........2222..2222..........................................
                ....22..22..................................................
                ..2222......................................................
                .22.........................................................
                222.........................................................
                .222........................................................
                ............................................................
                ......2..................22222222...........................
                ......22222222...22222222222222222222.2222222222............
                ........22222222.....22222222222......222222................
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ...............22...........................................
                .............22.............................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............22...22222....................22222.............
                .............222.....22222222222......222222................
                `,img`
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                ............................................................
                `],
            50,
            false
            )
        }
    }
})
controller.right.onEvent(ControllerButtonEvent.Repeated, function () {
    mySprite.vx = moveSpeed
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    isRight = -1
    mySprite.vx = -100
    if (playerStatus == PlayerStatus.Pulling) {
        mySprite.setImage(img`
            . . . . . . . 9 9 . . . . . . . 
            . . . . . . 9 8 9 . . . . . . . 
            . . . . 9 9 8 8 8 9 9 9 . . . . 
            . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
            . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
            . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
            . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
            . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
            . . . . 5 b b b 2 b 8 8 5 5 . . 
            . . . . 5 b c c 2 1 8 8 5 5 . . 
            . . . . 5 c c c c c c 8 8 . . . 
            . . . . . 5 9 9 9 9 5 8 8 . . . 
            . . . . . 5 8 b b 9 2 8 8 8 . . 
            . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
            . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
            . . . . . f f f f f f . . 8 8 8 
            `)
        SetPulling()
    } else if (playerStatus == PlayerStatus.Holding) {
        mySprite.setImage(img`
            2222222222222222...99......
            2cccccccccccccc2..989......
            2cbbbbbbbbbbbbc299888999...
            2cbccccccccccbc29988889699.
            2cbcbbbbbbbbcbc286888868669
            2cbcbccccccbcbc286688668869
            2cbcbcbbbbcbcbc28866668885.
            2cbcbcbbbbcbcbc28888888855.
            2cbcbcbbbbcbcbc25bbb2b8855.
            2cbcbcbbbbcbcbc25bcc218855.
            2cbcbccccccbcbc25cccccc88..
            2cbcbbbbbbbbcbc2.59999588..
            2cbccccccccccbc2.58bb92888.
            2cbbbbbbbbbbbbc298888922888
            2cccccccccccccc299888899888
            2222222222222222.ffffff.288
            `)
    } else {
        mySprite.setImage(img`
            . . . . . . . 9 9 . . . . . . . 
            . . . . . . 9 8 9 . . . . . . . 
            . . . . 9 9 8 8 8 9 9 9 . . . . 
            . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
            . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
            . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
            . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
            . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
            . . . . 5 b b b 2 b 8 8 5 5 . . 
            . . . . 5 b c c 2 1 8 8 5 5 . . 
            . . . . 5 c c c c c c 8 8 . . . 
            . . . . . 5 9 9 9 9 5 8 8 . . . 
            . . . . . 5 8 b b 9 2 8 8 8 . . 
            . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
            . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
            . . . . . f f f f f f . . 8 8 8 
            `)
    }
})
controller.right.onEvent(ControllerButtonEvent.Released, function () {
    mySprite.vx = 0
})
controller.left.onEvent(ControllerButtonEvent.Released, function () {
    mySprite.vx = 0
})
statusbars.onZero(StatusBarKind.EnemyHealth, function (status) {
    for (let index = 0; index < 6000; index++) {
        sprites.destroyAllSpritesOfKind(SpriteKind.laser)
        sprites.destroyAllSpritesOfKind(SpriteKind.enemybullet)
    }
    beat = sprites.create(img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `, SpriteKind.BBDXOE)
    beat.setPosition(boss2.x, boss2.y)
    sprites.destroy(boss2)
    animation.runImageAnimation(
    beat,
    [img`
        ................4444................
        ..............44455444..............
        .............4444443333.............
        ............441122233334............
        ............451122233333............
        ...........44552222233334...........
        ...........44511112223334...........
        ...........44112211223344...........
        ...........44112211223324...........
        ............421221123324............
        ............442111223224............
        .............4222222224....4444.....
        .....4444.....44222244...44455444...
        ...44455444...888844....4444443333..
        ..4444443333.887788....441122233334.
        .4411222333388888668...451122233333.
        .45112223338717776668.44552222233334
        445522222338771117668.44511112223334
        445111122238712217668.44112211223344
        441122112238712217668.44112211223324
        441122112238711117678..421221123324.
        .4212211233287777778...442111223224.
        .4421112232248777784....4222222224..
        ..4222222224..88885444...44222244...
        ...44222244..4444443333....4444.....
        .....4444...441122233334............
        ............451122233333............
        ...........44552222233334...........
        ...........44511112223334...........
        ...........44112211223344...........
        ...........44112211223324...........
        ............421221123324............
        ............442111223224............
        .............4222222224.............
        ..............44222244..............
        ................4444................
        `,img`
        ................1111................
        ..............11155111..............
        .............1111113333.............
        ............111111133331............
        ............151111133333............
        ...........11551111133331...........
        ...........11511111113331...........
        ...........11112211113311...........
        ...........11112211113321...........
        ............121221113311............
        ............111111113111............
        .............1111111111....1111.....
        .....1111.....11111111...11155111...
        ...11155111...888811....1111113333..
        ..1111113333.887788....111111133331.
        .1111111333388888668...151111133333.
        .15111113338111116668.11551111133331
        115511111338111111668.11511111113331
        115111111138112211668.11112211113311
        111122111138112211668.11112211113321
        111122111138111111678..121221113311.
        .1212211133181111118...111111113111.
        .1111111131118111181....1111111111..
        ..1111111111..88885111...44111111...
        ...11111111..1111113333....1111.....
        .....1111...111111133334............
        ............151111133333............
        ...........11551111133331...........
        ...........11511111113331...........
        ...........11112211113311...........
        ...........11112211113321...........
        ............121221113311............
        ............111111113111............
        .............1111111111.............
        ..............11111111..............
        ................1111................
        `,img`
        ................1111................
        ..............11155111..............
        .............1111111111.............
        ............111111111111............
        ............151111111111............
        ...........11551111111111...........
        ...........11511111111111...........
        ...........11112211111111...........
        ...........11112211111121...........
        ............121221111111............
        ............111111111111............
        .............1111111111....1111.....
        .....1111.....11111111...11155111...
        ...11155111...111111....1111111111..
        ..1111111111.117711....111111111111.
        .1111111111111111661...151111111111.
        .15111111111111116661.11551111111111
        115511111111111111661.11511111111111
        115111111111112211661.11112211111111
        111122111111112211661.11112211111121
        111122111111111111671..121221111111.
        .1212211111111111111...111111111111.
        .1111111111111111111....1111111111..
        ..1111111111..11115111...44111111...
        ...11111111..1111111111....1111.....
        .....1111...111111111114............
        ............151111111111............
        ...........11551111111111...........
        ...........11511111111111...........
        ...........11112211111111...........
        ...........11112211111121...........
        ............121221111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ................1111................
        `,img`
        ................1111................
        ..............11111111..............
        .............1111111111.............
        ............111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11112211111111...........
        ...........11112211111121...........
        ............121221111111............
        ............111111111111............
        .............1111111111....1111.....
        .....1111.....11111111...11111111...
        ...11111111...111111....1111111111..
        ..1111111111.111111....111111111111.
        .1111111111111111111...111111111111.
        .11111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111112211111.11112211111111
        111122111111112211111.11112211111121
        111122111111111111111..121221111111.
        .1212211111111111111...111111111111.
        .1111111111111111111....1111111111..
        ..1111111111..11111111...11111111...
        ...11111111..1111111111....1111.....
        .....1111...111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11112211111111...........
        ...........11112211111121...........
        ............121221111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ................1111................
        `,img`
        ................1111................
        ..............11111111..............
        .............1111111111.............
        ............111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11112211111111...........
        ...........11112211111111...........
        ............111221111111............
        ............111111111111............
        .............1111111111....1111.....
        .....1111.....11111111...11111111...
        ...11111111...111111....1111111111..
        ..1111111111.111111....111111111111.
        .1111111111111111111...111111111111.
        .11111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111112211111.11112211111111
        111122111111112211111.11112211111111
        111122111111111111111..111221111111.
        .1112211111111111111...111111111111.
        .1111111111111111111....1111111111..
        ..1111111111..11111111...11111111...
        ...11111111..1111111111....1111.....
        .....1111...111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11112211111111...........
        ...........11112211111111...........
        ............111221111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ................1111................
        `,img`
        ................1111................
        ..............11111111..............
        .............1111111111.............
        ............111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11112111111111...........
        ...........11111211111111...........
        ............111221111111............
        ............111111111111............
        .............1111111111....1111.....
        .....1111.....11111111...11111111...
        ...11111111...111111....1111111111..
        ..1111111111.111111....111111111111.
        .1111111111111111111...111111111111.
        .11111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111111211111.11112111111111
        111122111111112111111.11112211111111
        111112111111111111111..111121111111.
        .1112111111111111111...111111111111.
        .1111111111111111111....1111111111..
        ..1111111111..11111111...11111111...
        ...11111111..1111111111....1111.....
        .....1111...111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111211111111...........
        ...........11112211111111...........
        ............111211111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ................1111................
        `,img`
        ................1111................
        ..............11111111..............
        .............1111111111.............
        ............111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ............111111111111............
        ............111111111111............
        .............1111111111....1111.....
        .....1111.....11111111...11111111...
        ...11111111...111111....1111111111..
        ..1111111111.111111....111111111111.
        .1111111111111111111...111111111111.
        .11111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111111111111..111111111111.
        .1111111111111111111...111111111111.
        .1111111111111111111....1111111111..
        ..1111111111..11111111...11111111...
        ...11111111..1111111111....1111.....
        .....1111...111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ............111111111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ................1111................
        `,img`
        ................1111................
        ..............11111111..............
        .............1111111111.............
        ............111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ............111111111111............
        ............111111111111............
        .............1111111111....1111.....
        .....1111.....11111111...11111111...
        ...11111111...111111....1111111111..
        ..1111111111.111111....111111111111.
        .1111111111111111111...111111111111.
        .11111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111111111111..111111111111.
        .1111111111111111111...111111111111.
        .1111111111111111111....1111111111..
        ..1111111111..11111111...11111111...
        ...11111111..1111111111....1111.....
        .....1111...111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ............111111111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ................1111................
        `,img`
        ................1111................
        ..............11111111..............
        .............1111111111.............
        ............111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ............111111111111............
        ............111111111111............
        .............1111111111....1111.....
        .....1111.....11111111...11111111...
        ...11111111...111111....1111111111..
        ..1111111111.111111....111111111111.
        .1111111111111111111...111111111111.
        .11111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111111111111.11111111111111
        111111111111111111111..111111111111.
        .1111111111111111111...111111111111.
        .1111111111111111111....1111111111..
        ..1111111111..11111111...11111111...
        ...11111111..1111111111....1111.....
        .....1111...111111111111............
        ............111111111111............
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ...........11111111111111...........
        ............111111111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ................1111................
        `,img`
        ....................................
        ....................................
        ....................................
        ................1111................
        ...............111111...............
        ..............11111111..............
        .............1111111111.............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        .............1111111111.............
        .............1111111111.............
        ..............11111111....111.......
        .......111.....111111...1111111.....
        ....111111111.11111...11111111111...
        ...11111111111111111..11111111111...
        ...111111111111111111111111111111...
        ..1111111111111111111111111111111...
        ..1111111111111111111111111111111...
        ..1111111111111111111.11111111111...
        ...11111111111111111..11111111111...
        ....111111111..111111...1111111.....
        .....1111111..11111111....111.......
        .......111...1111111111.............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ...............111111...............
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ................1111................
        ...............111111...............
        ..............11111111..............
        .............111111111..............
        .............111111111..............
        ..............11111111..............
        ...............111111...11..........
        ..........11....1111..11111.........
        .......111111111111..11111111.......
        .......1111111111111111111111.......
        ......11111111111111111111111.......
        ......11111111111111111111111.......
        .......111111111111..11111111.......
        .......1111111..1111..11111.........
        ........11111..111111...11..........
        .............111111111..............
        .............111111111..............
        .............111111111..............
        ..............11111111..............
        ...............111111...............
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        .................11111..............
        .................11111..............
        ................111111..............
        .................11111..............
        ..............1...111.1111..........
        ............11111111..11111.........
        ...........1111111111111111.........
        ...........1111111111111111.........
        ............11111.111.1111..........
        ............1111.11111..1...........
        ................111111..............
        ................111111..............
        .................11111..............
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ................1111................
        ...............111111...............
        ..............11111111..............
        .............111111111..............
        .............111111111..............
        ..............11111111..............
        ...............111111...11..........
        ..........11....1111..11111.........
        .......111111111111..11111111.......
        .......1111111111111111111111.......
        ......11111111111111111111111.......
        ......11111111111111111111111.......
        .......111111111111..11111111.......
        .......1111111..1111..11111.........
        ........11111..111111...11..........
        .............111111111..............
        .............111111111..............
        .............111111111..............
        ..............11111111..............
        ...............111111...............
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        .................111................
        ................11111...............
        ...............1111111..............
        ..............111111111.............
        .............11111111111............
        .............11111111111............
        .............11111111111............
        ..............111111111.............
        ...............1111111....11........
        .........11.....11111...111111......
        ......11111111.1111...1111111111....
        .....111111111111111..1111111111....
        .....111111111111111111111111111....
        ....1111111111111111111111111111....
        ....1111111111111111111111111111....
        ....11111111111111111.1111111111....
        .....111111111111111..1111111111....
        ......11111111..11111...111111......
        .......111111..1111111....11........
        .............11111111111............
        .............11111111111............
        .............11111111111............
        .............11111111111............
        ..............111111111.............
        ...............1111111..............
        ................11111...............
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,img`
        ....................................
        ....................................
        ....................................
        ................1111................
        ...............111111...............
        ..............11111111..............
        .............1111111111.............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        .............1111111111.............
        .............1111111111.............
        ..............11111111....111.......
        .......111.....111111...1111111.....
        ....111111111.11111...11111111111...
        ...11111111111111111..11111111111...
        ...111111111111111111111111111111...
        ..1111111111111111111111111111111...
        ..1111111111111111111111111111111...
        ..1111111111111111111.11111111111...
        ...11111111111111111..11111111111...
        ....111111111..111111...1111111.....
        .....1111111..11111111....111.......
        .......111...1111111111.............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ...............111111...............
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ..........................111.......
        .......111..............1111111.....
        ....111111111.11111...11111111111...
        ...11111111111111111..11111111111...
        ...111111111111111111111111111111...
        ..1111111111111111111111111111111...
        ..1111111111111111111111111111111...
        ..1111111111111111111.11111111111...
        ...11111111111111111..11111111111...
        ....111111111..111111...1111111.....
        .....1111111..11111111....111.......
        .......111...1111111111.............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ...............111111...............
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ..........................111.......
        ........................1111111.....
        ..............11111...11111111111...
        .............1111111..11111111111...
        .............11111111111111111111...
        .............11111111111111111111...
        .............11111111111111111111...
        .............11111111.11111111111...
        ..............111111..11111111111...
        ...............111111...1111111.....
        ..............11111111....111.......
        .............1111111111.............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ...............111111...............
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ..............11111.................
        .............1111111................
        .............111111111..............
        .............111111111..............
        .............111111111..............
        .............11111111...............
        ..............111111................
        ...............111111...............
        ..............11111111..............
        .............1111111111.............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        ............111111111111............
        .............1111111111.............
        ..............11111111..............
        ...............111111...............
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ..............11111.................
        .............1111111................
        .............111111111..............
        .............111111111..............
        .............111111111..............
        .............11111111...............
        ..............111111................
        ...............111111...............
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `],
    100,
    false
    )
    timer.after(3000, function () {
        boss2 = null
        scene.cameraShake(4, 5000)
        mySprite.sayText("Wha...what happened?!", 1000, true)
        timer.after(5000, function () {
            sprites.destroy(status)
            sprites.destroy(mySprite)
            mySprite5 = sprites.create(img`
                .......22...............
                ........22..............
                ........222....2........
                8.......222...2........8
                888.....2222.22......888
                88888..22222222....88888
                8888888222222222.8888888
                889888822222222288888988
                889898222222222228898988
                869898222255522229898968
                .7689622255555222969867.
                .7766722255555222.76677.
                .7777.22255555222..7777.
                ..7....222555222.....7..
                ........2222222.........
                .........22222..........
                `, SpriteKind.Player)
            scene.cameraFollowSprite(mySprite5)
            controller.moveSprite(mySprite5)
            color.startFade(color.White, color.originalPalette, 2000)
            tiles.setCurrentTilemap(tilemap`level15`)
            tiles.placeOnRandomTile(mySprite, assets.tile`myTile10`)
            for (let value of tiles.getTilesByType(assets.tile`myTile12`)) {
                mySprite2 = sprites.create(img`
                    .......99...............
                    ........99..............
                    ........999....9........
                    1.......999...9........1
                    111.....9999.99......111
                    11111..99999999....11111
                    1111111999999999.1111111
                    11d111199999999911111d11
                    11d1d19999999999911d1d11
                    1bd1d199991119999d1d1db1
                    .cb1db99911111999dbd1bc.
                    .ccbbc99911111999.cbbcc.
                    .cccc.99911111999..cccc.
                    ..c....999111999.....c..
                    ........9999999.........
                    .........99999..........
                    `, SpriteKind.decoration)
                tiles.placeOnTile(mySprite2, value)
                animation.runImageAnimation(
                mySprite2,
                [img`
                    .......99...............
                    ........99..............
                    ........999....9........
                    1.......999...9........1
                    111.....9999.99......111
                    11111..99999999....11111
                    1111111999999999.1111111
                    11d111199999999911111d11
                    11d1d19999999999911d1d11
                    1bd1d199991119999d1d1db1
                    .cb1db99911111999dbd1bc.
                    .ccbbc99911111999.cbbcc.
                    .cccc.99911111999..cccc.
                    ..c....999111999.....c..
                    ........9999999.........
                    .........99999..........
                    ........................
                    `,img`
                    ........................
                    .......99...............
                    ........99..............
                    ........999....9........
                    1.......999...9........1
                    111.....9999.99......111
                    11111..99999999....11111
                    1111111999999999.1111111
                    11d111199999999911111d11
                    11d1d19999999999911d1d11
                    1bd1d199991119999d1d1db1
                    .cb1db99911111999dbd1bc.
                    .ccbbc99911111999.cbbcc.
                    .cccc.99911111999..cccc.
                    ..c....999111999.....c..
                    ........9999999.........
                    .........99999..........
                    `],
                500,
                true
                )
            }
        })
    })
})
statusbars.onZero(StatusBarKind.Health, function (status) {
    mySprite3 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.BBDXOE)
    mySprite3.setPosition(mySprite.x, mySprite.y)
    sprites.destroy(mySprite)
    animation.runImageAnimation(
    mySprite3,
    [img`
        . . . . . . . 9 8 9 . . . . . . 
        . . . . 9 9 9 8 8 8 9 9 . . . . 
        . . 9 9 6 9 8 8 8 8 9 9 9 . . . 
        . 9 6 6 8 6 8 8 8 8 6 8 6 9 . . 
        . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
        . . 5 8 8 8 6 6 6 6 8 8 8 6 9 . 
        . . 5 5 8 8 8 8 8 8 8 8 5 9 . . 
        . . 5 5 8 8 b 2 b b b 5 . . . . 
        . . 5 5 8 8 1 2 c c b 5 . . . . 
        . . . 8 8 c c c c c c 5 . . . . 
        . . . . 2 2 2 1 1 2 2 . . . . . 
        . . . 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 b b 8 5 . . . . . 
        . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
        8 8 8 . . f f f f f f . . . . . 
        `,img`
        9 9 8 8 8 8 5 5 5 . . . . . . . 
        9 9 6 6 8 8 b b c 2 2 . . . . . 
        8 8 8 6 6 8 b c c 2 2 . . . . . 
        8 8 8 8 6 8 b c c 2 2 . . . . . 
        8 8 8 8 6 8 1 1 c 2 1 . . . . . 
        9 8 8 6 6 8 b b c 2 1 . . . . . 
        9 9 6 6 8 8 8 8 c 2 2 . . . . . 
        9 6 8 2 8 8 8 8 8 2 2 . . . . . 
        . 9 6 8 8 5 5 5 8 2 2 . . . . . 
        . 2 6 6 5 2 5 5 . . . . . . . . 
        . . 9 9 . . . 2 . . . . . . . . 
        2 . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
        8 8 8 . . f f f f f f . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . 2 . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . 2 . . . 2 . . . . . . . . . . 
        . . . . . . . 2 . . . . . . . . 
        2 . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        8 8 8 . . f f 2 f f f . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 8 8 5 9 9 9 9 5 . . . . . 
        . . 8 8 8 2 9 2 b 8 5 . . . . . 
        . 8 8 8 2 2 9 2 8 8 8 9 . . . . 
        . 8 8 8 9 9 8 2 8 8 9 9 . . . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        `],
    200,
    false
    )
    timer.after(3000, function () {
        game.gameOver(false)
    })
})
sprites.onOverlap(SpriteKind.attack, SpriteKind.Enemy, function (sprite, otherSprite) {
    otherSprite.startEffect(effects.spray, 200)
    death = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.nothing)
    animation.runImageAnimation(
    death,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 1 . . . . . . . 
        . . . . . . 1 1 1 1 1 . . . . . 
        . . . . . . f 1 f 1 1 . . . . . 
        . . . . . . f 1 f 1 1 . . . . . 
        . . . e . . 1 1 1 . . . . . . . 
        . . e . f . . . 1 . . . . . . . 
        . . e d d f d c c c . . . . . . 
        . . e . . . f c c 1 . . . . . . 
        . . e . . f 1 1 1 1 . . . . . . 
        1 1 1 1 1 1 1 1 c c . . . . . . 
        . . . . . . . 1 . . . . . . . . 
        . . . . . . c c c . . . . . . . 
        . . . . . . 1 . 1 . . . . . . . 
        . . . . . . e . . e . . . . . . 
        . . . . . e e . e e . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 1 . . . . . . . 
        . . . . . . 1 1 1 1 1 . . . . . 
        . . . . . . f 1 f 1 1 . . . . . 
        . . . . . . f 1 f 1 1 . . . . . 
        . . . 1 . . 1 1 1 . . . . . . . 
        . . 1 . 1 . . . 1 . . . . . . . 
        . . 1 1 1 1 1 1 1 1 . . . . . . 
        . . 1 . . . 1 1 1 1 . . . . . . 
        . . 1 . . 1 1 1 1 1 . . . . . . 
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
        . . . . . . . 1 . . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 . 1 . . . . . . . 
        . . . . . . 1 . . 1 . . . . . . 
        . . . . . 1 1 . 1 1 . . . . . . 
        `,img`
        . . . . . . . . 1 1 . . . . . . 
        . . . . . . . 1 1 1 1 1 . . . . 
        . . . . . . . f 1 f 1 1 . . . . 
        . . . . . . . f 1 f 1 1 . . . . 
        . . . . e . . 1 1 1 . . . . . . 
        . . . e . f . . . 1 . . . . . . 
        . . . e d d f d c c c . . . . . 
        . . . e . . . f c c 1 . . . . . 
        . . . e . . f 1 1 1 1 . . . . . 
        . . . . e f . . 2 2 2 . . . . . 
        . . . . . . . . 2 1 2 . . . . . 
        . . . . . . 1 . . . . . . . . . 
        . . . . . c c c . . . . . . . . 
        . . . . . 1 . 1 . . . . . . . . 
        . . . . . e . . e . . . . . . . 
        . . . . e e . e e . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . e e e e . . . . . 
        . . . . . . e . . d . e . . . . 
        . . . . . . f . . d f . . . . . 
        . . . . . . . f . f . . . . . . 
        . . . . . . . 1 f d . 1 f f 1 . 
        . . . . . 2 2 1 c c . 1 1 1 1 1 
        . . 2 . . 1 2 1 c c 1 1 f f 1 1 
        . . . . . 2 2 1 1 c . . 1 1 1 . 
        . . . 2 . . . 2 . . . . 1 1 1 . 
        . . . . . 1 . . . 2 . . . . . . 
        . . . . c c c . . . . . . . . . 
        . . . . 1 . 1 . . . . 2 . . . . 
        . . . . e . . e . . . . . . . . 
        . . . e e . e e . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 . . . . . . . . . . . . . 
        . . . . . 1 . . . . . . . . . . 
        . . . . c c c . . 2 . . . 2 . . 
        . 2 . . 1 . 1 . . . . . . . . . 
        . . . . e . . e . . . 2 . 2 . . 
        . . . e e . e e . 2 . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    false
    )
    death.setPosition(otherSprite.x, otherSprite.y)
    skeleton = null
sprites.destroy(otherSprite)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    isRight = 1
    mySprite.vx = 100
    if (playerStatus == PlayerStatus.Pulling) {
        mySprite.setImage(img`
            . . . . . . . 9 9 . . . . . . . 
            . . . . . . . 9 8 9 . . . . . . 
            . . . . 9 9 9 8 8 8 9 9 . . . . 
            . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
            . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
            . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
            . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
            . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
            . . 5 5 8 8 b 2 b b b 5 . . . . 
            . . 5 5 8 8 1 2 c c b 5 . . . . 
            . . . 8 8 c c c c c c 5 . . . . 
            . . . 8 8 5 9 9 9 9 5 . . . . . 
            . . 8 8 8 2 9 b b 8 5 . . . . . 
            . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
            . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
            8 8 8 . . f f f f f f . . . . . 
            `)
        SetPulling()
    } else if (playerStatus == PlayerStatus.Holding) {
        mySprite.setImage(img`
            ......999..2222222222222222
            ......9899.2cccccccccccccc2
            ...999888992cbbbbbbbbbbbbc2
            .99698888992cbccccccccccbc2
            966868888682cbcbbbbbbbbcbc2
            968866886682cbcbccccccbcbc2
            .58886666882cbcbcbbbbcbcbc2
            .55888888882cbcbcbbbbcbcbc2
            .5588b2bbb52cbcbcbbbbcbcbc2
            .558812ccb52cbcbcbbbbcbcbc2
            ..88cccccc52cbcbccccccbcbc2
            ..8859999552cbcbbbbbbbbcbc2
            .88829bb8552cbccccccccccbc2
            888229888892cbbbbbbbbbbbbc2
            888998888992cccccccccccccc2
            88..fffffff2222222222222222
            `)
    } else {
        mySprite.setImage(img`
            . . . . . . . 9 9 . . . . . . . 
            . . . . . . . 9 8 9 . . . . . . 
            . . . . 9 9 9 8 8 8 9 9 . . . . 
            . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
            . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
            . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
            . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
            . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
            . . 5 5 8 8 b 2 b b b 5 . . . . 
            . . 5 5 8 8 1 2 c c b 5 . . . . 
            . . . 8 8 c c c c c c 5 . . . . 
            . . . 8 8 5 9 9 9 9 5 . . . . . 
            . . 8 8 8 2 9 b b 8 5 . . . . . 
            . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
            . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
            8 8 8 . . f f f f f f . . . . . 
            `)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.laser, function (sprite, otherSprite) {
    statusbar.value += -5
    sprites.destroy(otherSprite)
    scene.cameraShake(4, 500)
    if (playerStatus == PlayerStatus.Holding) {
        if (isRight == 1) {
            animation.runImageAnimation(
            sprite,
            [img`
                ......999..2222222222222222
                ......9899.2cccccccccccccc2
                ...999888992cbbbbbbbbbbbbc2
                .99698888992cbccccccccccbc2
                966868888682cbcbbbbbbbbcbc2
                968866886682cbcbccccccbcbc2
                .58886666882cbcbcbbbbcbcbc2
                .55888888882cbcbcbbbbcbcbc2
                .5588b2bbb52cbcbcbbbbcbcbc2
                .558812ccb52cbcbcbbbbcbcbc2
                ..88cccccc52cbcbccccccbcbc2
                ..8859999552cbcbbbbbbbbcbc2
                .88829bb8552cbccccccccccbc2
                888229888892cbbbbbbbbbbbbc2
                888998888992cccccccccccccc2
                88..fffffff2222222222222222
                `,img`
                ......111..2222222222222222
                ......1111.2cccccccccccccc2
                ...111111112cbbbbbbbbbbbbc2
                .11111111112cbccccccccccbc2
                111111111112cbcbbbbbbbbcbc2
                111111111112cbcbccccccbcbc2
                111111111112cbcbcbbbbcbcbc2
                111111111112cbcbcbbbbcbcbc2
                111111211112cbcbcbbbbcbcbc2
                111111211112cbcbcbbbbcbcbc2
                .11111111112cbcbccccccbcbc2
                .11111111112cbcbbbbbbbbcbc2
                111111111112cbccccccccccbc2
                111111111112cbbbbbbbbbbbbc2
                111111111112cccccccccccccc2
                111.111111f2222222222222222
                `,img`
                ......999..2222222222222222
                ......9899.2cccccccccccccc2
                ...999888992cbbbbbbbbbbbbc2
                .99698888992cbccccccccccbc2
                966868888682cbcbbbbbbbbcbc2
                968866886682cbcbccccccbcbc2
                .58886666882cbcbcbbbbcbcbc2
                .55888888882cbcbcbbbbcbcbc2
                .5588b2bbb52cbcbcbbbbcbcbc2
                .558812ccb52cbcbcbbbbcbcbc2
                ..88cccccc52cbcbccccccbcbc2
                ..8859999552cbcbbbbbbbbcbc2
                .88829bb8552cbccccccccccbc2
                888229888892cbbbbbbbbbbbbc2
                888998888992cccccccccccccc2
                88..fffffff2222222222222222
                `],
            200,
            false
            )
        } else {
            animation.runImageAnimation(
            sprite,
            [img`
                2222222222222222..999......
                2cccccccccccccc2.9989......
                2cbbbbbbbbbbbbc299888999...
                2cbccccccccccbc29988889699.
                2cbcbbbbbbbbcbc286888868669
                2cbcbccccccbcbc286688668869
                2cbcbcbbbbcbcbc28866668885.
                2cbcbcbbbbcbcbc28888888855.
                2cbcbcbbbbcbcbc25bbb2b8855.
                2cbcbcbbbbcbcbc25bcc218855.
                2cbcbccccccbcbc25cccccc88..
                2cbcbbbbbbbbcbc2559999588..
                2cbccccccccccbc2558bb92888.
                2cbbbbbbbbbbbbc298888922888
                2cccccccccccccc299888899888
                2222222222222222fffffff.288
                `,img`
                2222222222222222..111......
                2cccccccccccccc2.1111......
                2cbbbbbbbbbbbbc211111111...
                2cbccccccccccbc21111111111.
                2cbcbbbbbbbbcbc211111111111
                2cbcbccccccbcbc211111111111
                2cbcbcbbbbcbcbc211111111111
                2cbcbcbbbbcbcbc211111111111
                2cbcbcbbbbcbcbc211112111111
                2cbcbcbbbbcbcbc211112111111
                2cbcbccccccbcbc21111111111.
                2cbcbbbbbbbbcbc21111111111.
                2cbccccccccccbc211111111111
                2cbbbbbbbbbbbbc211111111111
                2cccccccccccccc211111111111
                2222222222222222f111111.111
                `,img`
                2222222222222222..999......
                2cccccccccccccc2.9989......
                2cbbbbbbbbbbbbc299888999...
                2cbccccccccccbc29988889699.
                2cbcbbbbbbbbcbc286888868669
                2cbcbccccccbcbc286688668869
                2cbcbcbbbbcbcbc28866668885.
                2cbcbcbbbbcbcbc28888888855.
                2cbcbcbbbbcbcbc25bbb2b8855.
                2cbcbcbbbbcbcbc25bcc218855.
                2cbcbccccccbcbc25cccccc88..
                2cbcbbbbbbbbcbc2559999588..
                2cbccccccccccbc2558bb92888.
                2cbbbbbbbbbbbbc298888922888
                2cccccccccccccc299888899888
                2222222222222222fffffff.288
                `],
            200,
            false
            )
        }
    } else {
        if (isRight == 1) {
            animation.runImageAnimation(
            sprite,
            [img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . . 9 8 9 . . . . . . 
                . . . . 9 9 9 8 8 8 9 9 . . . . 
                . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
                . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
                . . 5 5 8 8 b 2 b b b 5 . . . . 
                . . 5 5 8 8 1 2 c c b 5 . . . . 
                . . . 8 8 c c c c c c 5 . . . . 
                . . . 8 8 5 9 9 9 9 5 . . . . . 
                . . 8 8 8 2 9 b b 8 5 . . . . . 
                . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
                . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
                8 8 8 . . f f f f f f . . . . . 
                `,img`
                . . . . . . . 1 1 . . . . . . . 
                . . . . . . . 1 1 1 . . . . . . 
                . . . . 1 1 1 1 1 1 1 1 . . . . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . . 1 1 1 1 1 1 1 1 1 1 1 . . . 
                . . 1 1 1 1 1 1 1 1 1 1 . . . . 
                . . 1 1 1 1 1 1 1 1 1 1 . . . . 
                . . . 1 1 1 1 1 1 1 1 1 . . . . 
                . . . 1 1 1 1 1 1 1 1 . . . . . 
                . . 1 1 1 1 1 1 1 1 1 . . . . . 
                . 1 1 1 1 1 1 1 1 1 1 1 . . . . 
                . 1 1 1 1 1 1 1 1 1 1 1 . . . . 
                1 1 1 . . 1 1 1 1 1 1 . . . . . 
                `,img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . . 9 8 9 . . . . . . 
                . . . . 9 9 9 8 8 8 9 9 . . . . 
                . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
                . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
                . . 5 5 8 8 b 2 b b b 5 . . . . 
                . . 5 5 8 8 1 2 c c b 5 . . . . 
                . . . 8 8 c c c c c c 5 . . . . 
                . . . 8 8 5 9 9 9 9 5 . . . . . 
                . . 8 8 8 2 9 b b 8 5 . . . . . 
                . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
                . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
                8 8 8 . . f f f f f f . . . . . 
                `],
            200,
            false
            )
        } else {
            animation.runImageAnimation(
            sprite,
            [img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . 9 8 9 . . . . . . . 
                . . . . 9 9 8 8 8 9 9 9 . . . . 
                . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
                . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
                . . . . 5 b b b 2 b 8 8 5 5 . . 
                . . . . 5 b c c 2 1 8 8 5 5 . . 
                . . . . 5 c c c c c c 8 8 . . . 
                . . . . . 5 9 9 9 9 5 8 8 . . . 
                . . . . . 5 8 b b 9 2 8 8 8 . . 
                . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
                . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
                . . . . . f f f f f f . . 8 8 8 
                `,img`
                . . . . . . . 1 1 . . . . . . . 
                . . . . . . 1 1 1 . . . . . . . 
                . . . . 1 1 1 1 1 1 1 1 . . . . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . . . 1 1 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 . . . 
                . . . . . 1 1 1 1 1 1 1 1 . . . 
                . . . . . 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 1 1 . 
                . . . . 1 1 1 1 1 1 1 1 1 1 1 . 
                . . . . . 1 1 1 1 1 1 . . 1 1 1 
                `,img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . 9 8 9 . . . . . . . 
                . . . . 9 9 8 8 8 9 9 9 . . . . 
                . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
                . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
                . . . . 5 b b b 2 b 8 8 5 5 . . 
                . . . . 5 b c c 2 1 8 8 5 5 . . 
                . . . . 5 c c c c c c 8 8 . . . 
                . . . . . 5 9 9 9 9 5 8 8 . . . 
                . . . . . 5 8 b b 9 2 8 8 8 . . 
                . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
                . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
                . . . . . f f f f f f . . 8 8 8 
                `],
            200,
            false
            )
        }
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.enemybullet, function (sprite, otherSprite) {
    statusbar.value += -10
    sprites.destroy(otherSprite)
    scene.cameraShake(4, 500)
    if (playerStatus == PlayerStatus.Holding) {
        if (isRight == 1) {
            animation.runImageAnimation(
            sprite,
            [img`
                ......999..2222222222222222
                ......9899.2cccccccccccccc2
                ...999888992cbbbbbbbbbbbbc2
                .99698888992cbccccccccccbc2
                966868888682cbcbbbbbbbbcbc2
                968866886682cbcbccccccbcbc2
                .58886666882cbcbcbbbbcbcbc2
                .55888888882cbcbcbbbbcbcbc2
                .5588b2bbb52cbcbcbbbbcbcbc2
                .558812ccb52cbcbcbbbbcbcbc2
                ..88cccccc52cbcbccccccbcbc2
                ..8859999552cbcbbbbbbbbcbc2
                .88829bb8552cbccccccccccbc2
                888229888892cbbbbbbbbbbbbc2
                888998888992cccccccccccccc2
                88..fffffff2222222222222222
                `,img`
                ......111..2222222222222222
                ......1111.2cccccccccccccc2
                ...111111112cbbbbbbbbbbbbc2
                .11111111112cbccccccccccbc2
                111111111112cbcbbbbbbbbcbc2
                111111111112cbcbccccccbcbc2
                111111111112cbcbcbbbbcbcbc2
                111111111112cbcbcbbbbcbcbc2
                111111211112cbcbcbbbbcbcbc2
                111111211112cbcbcbbbbcbcbc2
                .11111111112cbcbccccccbcbc2
                .11111111112cbcbbbbbbbbcbc2
                111111111112cbccccccccccbc2
                111111111112cbbbbbbbbbbbbc2
                111111111112cccccccccccccc2
                111.111111f2222222222222222
                `,img`
                ......999..2222222222222222
                ......9899.2cccccccccccccc2
                ...999888992cbbbbbbbbbbbbc2
                .99698888992cbccccccccccbc2
                966868888682cbcbbbbbbbbcbc2
                968866886682cbcbccccccbcbc2
                .58886666882cbcbcbbbbcbcbc2
                .55888888882cbcbcbbbbcbcbc2
                .5588b2bbb52cbcbcbbbbcbcbc2
                .558812ccb52cbcbcbbbbcbcbc2
                ..88cccccc52cbcbccccccbcbc2
                ..8859999552cbcbbbbbbbbcbc2
                .88829bb8552cbccccccccccbc2
                888229888892cbbbbbbbbbbbbc2
                888998888992cccccccccccccc2
                88..fffffff2222222222222222
                `],
            200,
            false
            )
        } else {
            animation.runImageAnimation(
            sprite,
            [img`
                2222222222222222..999......
                2cccccccccccccc2.9989......
                2cbbbbbbbbbbbbc299888999...
                2cbccccccccccbc29988889699.
                2cbcbbbbbbbbcbc286888868669
                2cbcbccccccbcbc286688668869
                2cbcbcbbbbcbcbc28866668885.
                2cbcbcbbbbcbcbc28888888855.
                2cbcbcbbbbcbcbc25bbb2b8855.
                2cbcbcbbbbcbcbc25bcc218855.
                2cbcbccccccbcbc25cccccc88..
                2cbcbbbbbbbbcbc2559999588..
                2cbccccccccccbc2558bb92888.
                2cbbbbbbbbbbbbc298888922888
                2cccccccccccccc299888899888
                2222222222222222fffffff.288
                `,img`
                2222222222222222..111......
                2cccccccccccccc2.1111......
                2cbbbbbbbbbbbbc211111111...
                2cbccccccccccbc21111111111.
                2cbcbbbbbbbbcbc211111111111
                2cbcbccccccbcbc211111111111
                2cbcbcbbbbcbcbc211111111111
                2cbcbcbbbbcbcbc211111111111
                2cbcbcbbbbcbcbc211112111111
                2cbcbcbbbbcbcbc211112111111
                2cbcbccccccbcbc21111111111.
                2cbcbbbbbbbbcbc21111111111.
                2cbccccccccccbc211111111111
                2cbbbbbbbbbbbbc211111111111
                2cccccccccccccc211111111111
                2222222222222222f111111.111
                `,img`
                2222222222222222..999......
                2cccccccccccccc2.9989......
                2cbbbbbbbbbbbbc299888999...
                2cbccccccccccbc29988889699.
                2cbcbbbbbbbbcbc286888868669
                2cbcbccccccbcbc286688668869
                2cbcbcbbbbcbcbc28866668885.
                2cbcbcbbbbcbcbc28888888855.
                2cbcbcbbbbcbcbc25bbb2b8855.
                2cbcbcbbbbcbcbc25bcc218855.
                2cbcbccccccbcbc25cccccc88..
                2cbcbbbbbbbbcbc2559999588..
                2cbccccccccccbc2558bb92888.
                2cbbbbbbbbbbbbc298888922888
                2cccccccccccccc299888899888
                2222222222222222fffffff.288
                `],
            200,
            false
            )
        }
    } else {
        if (isRight == 1) {
            animation.runImageAnimation(
            sprite,
            [img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . . 9 8 9 . . . . . . 
                . . . . 9 9 9 8 8 8 9 9 . . . . 
                . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
                . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
                . . 5 5 8 8 b 2 b b b 5 . . . . 
                . . 5 5 8 8 1 2 c c b 5 . . . . 
                . . . 8 8 c c c c c c 5 . . . . 
                . . . 8 8 5 9 9 9 9 5 . . . . . 
                . . 8 8 8 2 9 b b 8 5 . . . . . 
                . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
                . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
                8 8 8 . . f f f f f f . . . . . 
                `,img`
                . . . . . . . 1 1 . . . . . . . 
                . . . . . . . 1 1 1 . . . . . . 
                . . . . 1 1 1 1 1 1 1 1 . . . . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . . 1 1 1 1 1 1 1 1 1 1 1 . . . 
                . . 1 1 1 1 1 1 1 1 1 1 . . . . 
                . . 1 1 1 1 1 1 1 1 1 1 . . . . 
                . . . 1 1 1 1 1 1 1 1 1 . . . . 
                . . . 1 1 1 1 1 1 1 1 . . . . . 
                . . 1 1 1 1 1 1 1 1 1 . . . . . 
                . 1 1 1 1 1 1 1 1 1 1 1 . . . . 
                . 1 1 1 1 1 1 1 1 1 1 1 . . . . 
                1 1 1 . . 1 1 1 1 1 1 . . . . . 
                `,img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . . 9 8 9 . . . . . . 
                . . . . 9 9 9 8 8 8 9 9 . . . . 
                . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
                . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
                . . 5 5 8 8 b 2 b b b 5 . . . . 
                . . 5 5 8 8 1 2 c c b 5 . . . . 
                . . . 8 8 c c c c c c 5 . . . . 
                . . . 8 8 5 9 9 9 9 5 . . . . . 
                . . 8 8 8 2 9 b b 8 5 . . . . . 
                . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
                . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
                8 8 8 . . f f f f f f . . . . . 
                `],
            200,
            false
            )
        } else {
            animation.runImageAnimation(
            sprite,
            [img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . 9 8 9 . . . . . . . 
                . . . . 9 9 8 8 8 9 9 9 . . . . 
                . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
                . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
                . . . . 5 b b b 2 b 8 8 5 5 . . 
                . . . . 5 b c c 2 1 8 8 5 5 . . 
                . . . . 5 c c c c c c 8 8 . . . 
                . . . . . 5 9 9 9 9 5 8 8 . . . 
                . . . . . 5 8 b b 9 2 8 8 8 . . 
                . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
                . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
                . . . . . f f f f f f . . 8 8 8 
                `,img`
                . . . . . . . 1 1 . . . . . . . 
                . . . . . . 1 1 1 . . . . . . . 
                . . . . 1 1 1 1 1 1 1 1 . . . . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                . . . 1 1 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 . . . 
                . . . . . 1 1 1 1 1 1 1 1 . . . 
                . . . . . 1 1 1 1 1 1 1 1 1 . . 
                . . . . 1 1 1 1 1 1 1 1 1 1 1 . 
                . . . . 1 1 1 1 1 1 1 1 1 1 1 . 
                . . . . . 1 1 1 1 1 1 . . 1 1 1 
                `,img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . 9 8 9 . . . . . . . 
                . . . . 9 9 8 8 8 9 9 9 . . . . 
                . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
                . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
                . . . . 5 b b b 2 b 8 8 5 5 . . 
                . . . . 5 b c c 2 1 8 8 5 5 . . 
                . . . . 5 c c c c c c 8 8 . . . 
                . . . . . 5 9 9 9 9 5 8 8 . . . 
                . . . . . 5 8 b b 9 2 8 8 8 . . 
                . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
                . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
                . . . . . f f f f f f . . 8 8 8 
                `],
            200,
            false
            )
        }
    }
})
function Dash () {
    if (isRight == -1) {
        animation.runImageAnimation(
        mySprite,
        [img`
            ......99........888.8.........
            .....989.......8899888........
            ...99888999.88889988888.......
            .9999888896998888888.888......
            966868888686688888......8.....
            96886688668868888.............
            .98886666888588888............
            ..588888888555229ffffff.......
            ...5bbb2b88999998888899.......
            ...5bcc2188999bbb8ffff........
            ...5cccccc89998888999.........
            ....55555555998889............
            ...........555999.............
            ..............................
            ..............................
            ..............................
            `,img`
            ..............................
            ......99......888888888.......
            .....989.....8889988888888....
            ...99888999..888888888888.....
            .999988889699888888888888.....
            966868888686888888888.........
            96886688668888888.............
            .98886666888888888............
            ..588888888555229ffffff.......
            ...5bbb2b88999998888899.......
            ...5bcc2188999bbb8ffff........
            ...5cccccc89998888999.........
            ....55555555998889............
            ...........555999.............
            ..............................
            ..............................
            `,img`
            ..............................
            ..............................
            .....................8888.....
            ......99............888888....
            .....989...........9888888....
            ...99888999......99888888.....
            .999988889699.8888888.8.......
            96686888868668888888..........
            968866886688688888............
            .988866668885888888...........
            ..588888888555229ffffff.......
            ...5bbb2b88999998888899.......
            ...5bcc2188999bbb8ffff........
            ...5cccccc89998888999.........
            ....55555555998889............
            ...........555999.............
            `],
        100,
        true
        )
        mySprite.startEffect(effects.fountain, 200)
        mySprite.ay = 0
        mySprite.setVelocity(-200, 0)
        timer.after(500, function () {
            mySprite.ay = 500
            mySprite.setVelocity(0, 0)
            animation.stopAnimation(animation.AnimationTypes.All, mySprite)
            mySprite.setImage(img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . 9 8 9 . . . . . . . 
                . . . . 9 9 8 8 8 9 9 9 . . . . 
                . . 9 9 9 9 8 8 8 8 9 6 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 9 8 8 8 6 6 6 6 8 8 8 5 . . 
                . . . 5 8 8 8 8 8 8 8 8 5 5 . . 
                . . . . 5 b b b 2 b 8 8 5 5 . . 
                . . . . 5 b c c 2 1 8 8 5 5 . . 
                . . . . 5 c c c c c c 8 8 . . . 
                . . . . . 5 9 9 9 9 5 8 8 . . . 
                . . . . . 5 8 b b 9 2 8 8 8 . . 
                . . . . 9 8 8 8 8 9 2 2 8 8 8 . 
                . . . . 9 9 8 8 8 8 9 9 8 8 8 . 
                . . . . . f f f f f f . . 8 8 8 
                `)
        })
    } else {
        mySprite.setVelocity(0, 0)
        animation.runImageAnimation(
        mySprite,
        [img`
            .........8.888........99......
            ........8889988.......989.....
            .......88888998888.99988899...
            ......888.8888888996988889999.
            .....8......888886686888868669
            .............88886886688668869
            ............88888588866668889.
            .......ffffff922555888888885..
            .......99888889999988b2bbb5...
            ........ffff8bbb9998812ccb5...
            .........99988889998cccccc5...
            ............98889955555555....
            .............999555...........
            ..............................
            ..............................
            ..............................
            `,img`
            ..............................
            .......888888888......99......
            ....8888888899888.....989.....
            .....888888888888..99988899...
            .....888888888888996988889999.
            .........888888888686888868669
            .............88888886688668869
            ............88888888866668889.
            .......ffffff922555888888885..
            .......99888889999988b2bbb5...
            ........ffff8bbb9998812ccb5...
            .........99988889998cccccc5...
            ............98889955555555....
            .............999555...........
            ..............................
            ..............................
            `,img`
            ..............................
            ..............................
            .....8888.....................
            ....888888............99......
            ....8888889...........989.....
            .....88888899......99988899...
            .......8.8888888.996988889999.
            ..........88888886686888868669
            ............888886886688668869
            ...........888888588866668889.
            .......ffffff922555888888885..
            .......99888889999988b2bbb5...
            ........ffff8bbb9998812ccb5...
            .........99988889998cccccc5...
            ............98889955555555....
            .............999555...........
            `],
        100,
        true
        )
        mySprite.startEffect(effects.fountain, 200)
        mySprite.ay = 0
        mySprite.setVelocity(200, 0)
        timer.after(500, function () {
            mySprite.ay = 500
            mySprite.setVelocity(0, 0)
            animation.stopAnimation(animation.AnimationTypes.All, mySprite)
            mySprite.setImage(img`
                . . . . . . . 9 9 . . . . . . . 
                . . . . . . . 9 8 9 . . . . . . 
                . . . . 9 9 9 8 8 8 9 9 . . . . 
                . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
                . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
                . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
                . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
                . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
                . . 5 5 8 8 b 2 b b b 5 . . . . 
                . . 5 5 8 8 1 2 c c b 5 . . . . 
                . . . 8 8 c c c c c c 5 . . . . 
                . . . 8 8 5 9 9 9 9 5 . . . . . 
                . . 8 8 8 2 9 b b 8 5 . . . . . 
                . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
                . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
                8 8 8 . . f f f f f f . . . . . 
                `)
        })
    }
}
sprites.onOverlap(SpriteKind.spy, SpriteKind.royund, function (sprite, otherSprite) {
    sprite.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . c c c c c c . . 
        . . . . . . . c . . . . c . . . 
        . . . . . . c . . . . c . . . . 
        . . . . . . c . . . . c . . . . 
        . . . . . . c . . . . c . . . . 
        . . . . . . c . . . . c . . . . 
        . . . . c c . . . . . c c . . . 
        . . . . . c . . . . . . . c . . 
        . . . . c . c . . . . . . c . . 
        . . . c . c . c . . . . . . c . 
        . . c . c . . c c c c . . . . c 
        . . c c . . . c . . c c . . . c 
        . . . . . . . c . . c . c . . c 
        . . . . . . . c . . c . . c . c 
        . . . . . . . c . . c . . . c c 
        `)
    sprite.follow(mySprite, 50)
    sprite.ay = 500
    if (sprite.isHittingTile(CollisionDirection.Left)) {
        sprite.vy = -240
    } else if (sprite.isHittingTile(CollisionDirection.Right)) {
        sprite.vy = -240
    }
    if (mySprite.vy == sprite.vy) {
        sprite.vy = -240
    }
})
function HoldBoxCheck () {
    if (playerStatus == PlayerStatus.Pulling) {
        if (!(tiles.tileAtLocationEquals(currentSelectedBox, assets.tile`myTile0`))) {
            selectedBox = mySprite.tilemapLocation()
            while (!(tiles.tileAtLocationEquals(selectedBox, assets.tile`myTile`))) {
                selectedBox = tiles.getTileLocation(selectedBox.column + isRight, mySprite.tilemapLocation().row)
                if (selectedBox.column <= 0 || selectedBox.column >= scene.screenWidth()) {
                    currentSelectedBox = tiles.getTileLocation(0, 0)
                    break;
                }
            }
            currentSelectedBox = tiles.getTileLocation(selectedBox.column, selectedBox.row)
            tiles.setTileAt(currentSelectedBox, assets.tile`myTile0`)
        }
    } else if (playerStatus == PlayerStatus.Normal) {
        tiles.setTileAt(currentSelectedBox, assets.tile`myTile`)
    }
}
sprites.onOverlap(SpriteKind.box, SpriteKind.Player, function (sprite, otherSprite) {
    boxTrue = 0
    sprites.destroy(sprite)
    if (isRight == 1) {
        mySprite.setImage(img`
            ......99...2222222222222222
            ......989..2cccccccccccccc2
            ...999888992cbbbbbbbbbbbbc2
            .99698888992cbccccccccccbc2
            966868888682cbcbbbbbbbbcbc2
            968866886682cbcbccccccbcbc2
            .58886666882cbcbcbbbbcbcbc2
            .55888888882cbcbcbbbbcbcbc2
            .5588b2bbb52cbcbcbbbbcbcbc2
            .558812ccb52cbcbcbbbbcbcbc2
            ..88cccccc52cbcbccccccbcbc2
            ..88599995.2cbcbbbbbbbbcbc2
            .88829bb85.2cbccccccccccbc2
            888229888892cbbbbbbbbbbbbc2
            888998888992cccccccccccccc2
            88..ffffff.2222222222222222
            `)
    } else {
        mySprite.setImage(img`
            2222222222222222...99......
            2cccccccccccccc2..989......
            2cbbbbbbbbbbbbc299888999...
            2cbccccccccccbc29988889699.
            2cbcbbbbbbbbcbc286888868669
            2cbcbccccccbcbc286688668869
            2cbcbcbbbbcbcbc28866668885.
            2cbcbcbbbbcbcbc28888888855.
            2cbcbcbbbbcbcbc25bbb2b8855.
            2cbcbcbbbbcbcbc25bcc218855.
            2cbcbccccccbcbc25cccccc88..
            2cbcbbbbbbbbcbc2.59999588..
            2cbccccccccccbc2.58bb92888.
            2cbbbbbbbbbbbbc298888922888
            2cccccccccccccc299888899888
            2222222222222222.ffffff..88
            `)
    }
    SetHolding()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`tile20`, function (sprite, location) {
    scene.cameraFollowSprite(mySprite)
    tiles.loadMap(tiles.createSmallMap(tilemap`level10`))
    tiles.placeOnTile(mySprite, tiles.getTileLocation(2, 12))
    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)
    boss2 = sprites.create(img`
        ................4444................
        ..............44455444..............
        .............4444443333.............
        ............441122233334............
        ............451122233333............
        ...........44552222233334...........
        ...........44511112223334...........
        ...........44112211223344...........
        ...........44112211223324...........
        ............421221123324............
        ............442111223224............
        .............4222222224....4444.....
        .....4444.....44222244...44455444...
        ...44455444...888844....4444443333..
        ..4444443333.887788....441122233334.
        .4411222333388888668...451122233333.
        .45112223338717776668.44552222233334
        445522222338771117668.44511112223334
        445111122238712217668.44112211223344
        441122112238712217668.44112211223324
        441122112238711117678..421221123324.
        .4212211233287777778...442111223224.
        .4421112232248777784....4222222224..
        ..4222222224..88885444...44222244...
        ...44222244..4444443333....4444.....
        .....4444...441122233334............
        ............451122233333............
        ...........44552222233334...........
        ...........44511112223334...........
        ...........44112211223344...........
        ...........44112211223324...........
        ............421221123324............
        ............442111223224............
        .............4222222224.............
        ..............44222244..............
        ................4444................
        `, SpriteKind.boss)
    tiles.placeOnRandomTile(boss2, assets.tile`tile6`)
    statusbar2 = statusbars.create(60, 4, StatusBarKind.EnemyHealth)
    statusbar2.setColor(2, 12, 10)
    statusbar2.setBarBorder(1, 5)
    statusbar2.positionDirection(CollisionDirection.Top)
    statusbar2.setLabel("BOSS", 10)
})
function SetPulling () {
    playerStatus = PlayerStatus.Pulling
if (isRight == 1) {
        animation.runImageAnimation(
        pullEffect,
        [img`
            ...................................
            ...................................
            ...................................
            ...................................
            .............................9.....
            ...........................9..9....
            .........................9..9..9...
            ..........................9..9.9...
            ........................9..9..9.9..
            .........................9..9.9..9.
            .......................9..9..9.9.9.
            ........................9..9.9.9.9.
            .........................9.9..9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            ..........................9.9.9.9.9
            .........................9.9..9.9.9
            .........................9.9.9.9.9.
            ........................9.9..9.9.9.
            .......................9.9..9.9..9.
            ........................9..9..9.9..
            .......................9..9..9.9...
            .........................9..9..9...
            ...........................9..9....
            ..........................9..9.....
            ...........................99......
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...........................9.......
            .........................9..9......
            ..........................9..9.....
            ........................9..9..9....
            .........................9..9.9....
            .......................9..9..9.9...
            ........................9..9.9.9...
            .........................9.9..9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            ..........................9.9.9.9..
            .........................9.9..9.9..
            .........................9.9.9.9...
            ........................9.9..9.9...
            .......................9.9..9.9....
            ........................9..9..9....
            .......................9..9..9.....
            .........................9..9......
            ...........................9.......
            ..........................9........
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            .........................9.........
            ..........................9........
            ........................9..9.......
            .........................9..9......
            .......................9..9..9.....
            ........................9..9.9.....
            .........................9.9..9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            ..........................9.9.9....
            .........................9.9..9....
            .........................9.9.9.....
            ........................9.9..9.....
            .......................9.9..9......
            ........................9..9.......
            .......................9..9........
            .........................9.........
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ........................9..........
            .........................9.........
            .......................9..9........
            ........................9..9.......
            .........................9.9.......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            ..........................9.9......
            .........................9.9.......
            .........................9.9.......
            ........................9.9........
            .......................9.9.........
            ........................9..........
            .......................9...........
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            .......................9...........
            ........................9..........
            .........................9.........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            ..........................9........
            .........................9.........
            .........................9.........
            ........................9..........
            .......................9...........
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `],
        100,
        true
        )
    } else {
        animation.runImageAnimation(
        pullEffect,
        [img`
            ...................................
            ...................................
            ...................................
            ...................................
            .....9.............................
            ....9..9...........................
            ...9..9..9.........................
            ...9.9..9..........................
            ..9.9..9..9........................
            .9..9.9..9.........................
            .9.9.9..9..9.......................
            .9.9.9.9..9........................
            9.9.9..9.9.........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9.9.9..........................
            9.9.9..9.9.........................
            .9.9.9.9.9.........................
            .9.9.9..9.9........................
            .9..9.9..9.9.......................
            ..9.9..9..9........................
            ...9.9..9..9.......................
            ...9..9..9.........................
            ....9..9...........................
            .....9..9..........................
            ......99...........................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            .......9...........................
            ......9..9.........................
            .....9..9..........................
            ....9..9..9........................
            ....9.9..9.........................
            ...9.9..9..9.......................
            ...9.9.9..9........................
            ..9.9..9.9.........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9.9.9..........................
            ..9.9..9.9.........................
            ...9.9.9.9.........................
            ...9.9..9.9........................
            ....9.9..9.9.......................
            ....9..9..9........................
            .....9..9..9.......................
            ......9..9.........................
            .......9...........................
            ........9..........................
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            .........9.........................
            ........9..........................
            .......9..9........................
            ......9..9.........................
            .....9..9..9.......................
            .....9.9..9........................
            ....9..9.9.........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9.9.9..........................
            ....9..9.9.........................
            .....9.9.9.........................
            .....9..9.9........................
            ......9..9.9.......................
            .......9..9........................
            ........9..9.......................
            .........9.........................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ..........9........................
            .........9.........................
            ........9..9.......................
            .......9..9........................
            .......9.9.........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            ......9.9..........................
            .......9.9.........................
            .......9.9.........................
            ........9.9........................
            .........9.9.......................
            ..........9........................
            ...........9.......................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `,img`
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...........9.......................
            ..........9........................
            .........9.........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            ........9..........................
            .........9.........................
            .........9.........................
            ..........9........................
            ...........9.......................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            ...................................
            `],
        100,
        true
        )
    }
}
controller.left.onEvent(ControllerButtonEvent.Repeated, function () {
    mySprite.vx = -1 * moveSpeed
})
let laser: Sprite = null
let projectile2: Sprite = null
let projectile: Sprite = null
let boxTrue = 0
let death: Sprite = null
let mySprite3: Sprite = null
let mySprite2: Sprite = null
let mySprite5: Sprite = null
let boss2: Sprite = null
let beat: Sprite = null
let box2: Sprite = null
let statusbar2: StatusBarSprite = null
let ssiwoha: Sprite = null
let assasian: Sprite = null
let statusbar: StatusBarSprite = null
let mySprite: Sprite = null
let pullEffect: Sprite = null
let moveSpeed = 0
let isDoubleJump = false
let isRight = 0
let currentSelectedBox: tiles.Location = null
let selectedBox: tiles.Location = null
let skeleton: Sprite = null
enum PlayerStatus{
    Normal = 0,
    Pulling = 1,
    Holding = 2
}
let playerStatus: PlayerStatus = PlayerStatus.Normal
controller.combos.setTimeout(300)
selectedBox = tiles.getTileLocation(0, 0)
currentSelectedBox = tiles.getTileLocation(1, 0)
isRight = 1
isDoubleJump = true
moveSpeed = 100
tiles.setCurrentTilemap(tilemap`level0`)
pullEffect = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.EffeckKind)
let mySprite4 = sprites.create(img`
    .....................bbbbbbbbbbbbbbbbbbbbbbb......................
    .................bbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...................
    ...............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.................
    ..............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...............
    ............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.............
    ...........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb............
    ..........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...........
    .........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..........
    .........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..........
    .......bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.........
    ......bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb........
    .....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.......
    ....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.....
    ....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.....
    ...bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb....
    ..bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...
    ..bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..
    ..bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...
    ..bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...
    ...bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb....
    ...bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb....
    ....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.....
    ....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.....
    .....bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.......
    ......bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb........
    .......bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.........
    .........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb..........
    ..........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...........
    ...........bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb............
    ............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.............
    ............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.............
    ..............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...............
    ...............bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.................
    .................bbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...................
    .....................bbbbbbbbbbbbbbbbbbbbbbb......................
    ........................bbbbbbbbbbbbbbbbb.........................
    `, SpriteKind.royund)
mySprite4.setFlag(SpriteFlag.Invisible, true)
mySprite = sprites.create(img`
    . . . . . . . 9 9 . . . . . . . 
    . . . . . . . 9 8 9 . . . . . . 
    . . . . 9 9 9 8 8 8 9 9 . . . . 
    . . 9 9 6 9 8 8 8 8 9 9 9 9 . . 
    . 9 6 6 8 6 8 8 8 8 6 8 6 6 9 . 
    . 9 6 8 8 6 6 8 8 6 6 8 8 6 9 . 
    . . 5 8 8 8 6 6 6 6 8 8 8 9 . . 
    . . 5 5 8 8 8 8 8 8 8 8 5 . . . 
    . . 5 5 8 8 b 2 b b b 5 . . . . 
    . . 5 5 8 8 1 2 c c b 5 . . . . 
    . . . 8 8 c c c c c c 5 . . . . 
    . . . 8 8 5 9 9 9 9 5 . . . . . 
    . . 8 8 8 2 9 b b 8 5 . . . . . 
    . 8 8 8 2 2 9 8 8 8 8 9 . . . . 
    . 8 8 8 9 9 8 8 8 8 9 9 . . . . 
    8 8 8 . . f f f f f f . . . . . 
    `, SpriteKind.Player)
tiles.placeOnRandomTile(mySprite, assets.tile`tile15`)
statusbar = statusbars.create(50, 4, StatusBarKind.Health)
statusbar.setColor(2, 15)
statusbar.setLabel("HP", 1)
statusbar.setBarBorder(1, 10)
mySprite.ay = 500
statusbar.positionDirection(CollisionDirection.Bottom)
scene.cameraFollowSprite(mySprite)
for (let value of tiles.getTilesByType(assets.tile`tile30`)) {
    assasian = sprites.create(img`
        . . . . . . . . 8 8 8 8 8 8 . . 
        . . . . . . . 8 8 8 8 8 8 . . . 
        . . . . . . 8 8 8 8 8 8 . . . . 
        . . . . . . 8 f f f f 8 . . . . 
        . . . . . . 8 2 f 2 f 8 . c . . 
        . . . . . . 8 f f f f 8 c . . . 
        . . . . . 1 1 1 c 8 8 8 8 . . . 
        . . . . . . 9 a a 8 8 8 8 8 . . 
        . . . . . 9 . c c 8 8 8 8 8 . . 
        . . . 9 f . . a a 8 8 8 8 8 8 . 
        . . 9 f 9 . . c c c 8 8 8 8 8 8 
        . . f 9 . . . c . . c 8 8 8 8 8 
        . . . . . . . c . . c . 8 8 8 8 
        . . . . . . . c . . c . . 8 8 8 
        . . . . . . . c . . c . . . 8 8 
        . . . . . . . . . . . . . . . 8 
        `, SpriteKind.spy)
    tiles.setTileAt(value, assets.tile`myTile1`)
    tiles.placeOnTile(assasian, value)
}
for (let value2 of tiles.getTilesByType(assets.tile`myTile2`)) {
    skeleton = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 1 1 . . . . . . 
        . . . . . . . 1 1 1 1 1 . . . . 
        . . . . . . . f 1 f 1 1 . . . . 
        . . . . . . . f 1 f 1 1 . . . . 
        . . . . e . . 1 1 1 . . . . . . 
        . . . e . f . . . 1 . . . . . . 
        . . . e d d f d c c c . . . . . 
        . . . e . . . f c c 1 . . . . . 
        . . . e . . f 1 1 1 1 . . . . . 
        . . . . e f . . c c c . . . . . 
        . . . . . . . . . 1 . . . . . . 
        . . . . . . . . c c c . . . . . 
        . . . . . . . . 1 . 1 . . . . . 
        . . . . . . . . e . . e . . . . 
        . . . . . . . e e . e e . . . . 
        `, SpriteKind.Enemy)
    tiles.setTileAt(value2, assets.tile`myTile1`)
    tiles.placeOnTile(skeleton, value2)
}
tiles.replaceAllTiles(assets.tile`myTile2`, assets.tile`myTile1`)
tiles.replaceAllTiles(assets.tile`tile30`, assets.tile`myTile1`)
ssiwoha = sprites.create(img`
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    ....................................
    `, SpriteKind.attack)
game.onUpdate(function () {
    ssiwoha.setPosition(mySprite.x, mySprite.y)
    pullEffect.setPosition(mySprite.x, mySprite.y)
    mySprite4.setPosition(mySprite.x, mySprite.y)
})
game.onUpdateInterval(1500, function () {
    for (let value3 of sprites.allOfKind(SpriteKind.Enemy)) {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . 2 2 . . . . . . . e . . . . . 
            . . 2 2 . . . . . . e e . . . . 
            . . d d d d d d d d e e e . . . 
            . . 2 2 . . . . . . e e . . . . 
            . 2 2 . . . . . . . e . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, value3, 160, 0)
        projectile.setKind(SpriteKind.enemybullet)
        timer.after(300, function () {
            projectile = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . e . . . . . . . 2 2 . 
                . . . . e e . . . . . . 2 2 . . 
                . . . e e e d d d d d d d d . . 
                . . . . e e . . . . . . 2 2 . . 
                . . . . . e . . . . . . . 2 2 . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, value3, -160, 0)
            projectile.setKind(SpriteKind.enemybullet)
        })
    }
})
game.onUpdateInterval(500, function () {
    if (boss2 != null) {
        boss2.setVelocity(randint(-10, 10), randint(-10, 10))
        projectile2 = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, boss2, 0, -100)
        projectile2.setKind(SpriteKind.enemybullet)
        projectile2 = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, boss2, 0, 100)
        projectile2.setKind(SpriteKind.enemybullet)
        projectile2 = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, boss2, -100, -100)
        projectile2.setKind(SpriteKind.enemybullet)
        projectile2 = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, boss2, 100, -100)
        projectile2.setKind(SpriteKind.enemybullet)
        projectile2 = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, boss2, -100, 100)
        projectile2.setKind(SpriteKind.enemybullet)
        projectile2 = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, boss2, 100, 100)
        projectile2.setKind(SpriteKind.enemybullet)
        projectile2 = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, boss2, 100, 0)
        projectile2.setKind(SpriteKind.enemybullet)
        projectile2 = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . 2 1 1 1 1 2 . . . . . 
            . . . . . . 3 1 1 3 . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, boss2, -100, 0)
        projectile2.setKind(SpriteKind.enemybullet)
        timer.after(100, function () {
            laser = sprites.createProjectileFromSprite(img`
                ...................................
                ...................................
                ...................................
                ...................................
                ...................................
                22222222222222222222222222222222222
                33333333333333333333333333333333333
                11111111111111111111111111111111111
                11111111111111111111111111111111111
                33333333333333333333333333333333333
                22222222222222222222222222222222222
                ...................................
                ...................................
                ...................................
                ...................................
                ...................................
                `, boss2, -50, 0)
            laser.setPosition(boss2.x, boss2.y)
            laser.setKind(SpriteKind.laser)
            timer.after(500, function () {
                sprites.destroy(laser)
            })
        })
    }
})
game.onUpdateInterval(100, function () {
	
})
